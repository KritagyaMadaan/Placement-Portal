import{u as re,a as Ss,r as o,j as e,L as ve,S as Ue,C as ks,b as Cs,B as ie,O as Ke,U as ke,M as fe,c as As,d as Ds,e as ce,f as rs,g as se,h as oe,R as Me,A as he,K as Es,i as ns,k as H,l as Is,m as Te,n as Rs,o as De,p as de,q as is,s as os,F as ue,T as zs,t as ge,E as Se,X,v as ds,w as Qe,x as Ps,D as Ee,y as cs,z as xs,P as Ce,G as Xe,H as me,I as Us,J as ze,N as Ms,Q as Ze,V as Ts,W as Os,Y as es,Z as Fs,_ as Bs,$ as Ls,a0 as $s,a1 as ss,a2 as ye,a3 as Vs,a4 as ts,a5 as _s,a6 as Gs,a7 as Js,a8 as qs,a9 as Y,aa as we,ab as Hs}from"./vendor-CuFXMjHA.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))x(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&x(r)}).observe(document,{childList:!0,subtree:!0});function l(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function x(n){if(n.ep)return;n.ep=!0;const c=l(n);fetch(n.href,c)}})();var B=(s=>(s.ADMIN="ADMIN",s.STUDENT="STUDENT",s.RECRUITER="RECRUITER",s.GUEST="GUEST",s))(B||{}),W=(s=>(s.APPLIED="Applied",s.SHORTLISTED="Shortlisted",s.TECHNICAL="Technical Round",s.HR="HR Round",s.SELECTED="Selected",s.REJECTED="Rejected",s))(W||{});const R={ADMINS:"nfsu_admins",STUDENTS:"nfsu_students",COMPANIES:"nfsu_companies",DRIVES:"nfsu_drives",APPLICATIONS:"nfsu_applications",NOTICES:"nfsu_notices",EVENTS:"nfsu_events",USER:"nfsu_user_session"},d={getStudents:()=>JSON.parse(localStorage.getItem(R.STUDENTS)||"[]"),getCompanies:()=>JSON.parse(localStorage.getItem(R.COMPANIES)||"[]"),getDrives:()=>JSON.parse(localStorage.getItem(R.DRIVES)||"[]"),getApplications:()=>JSON.parse(localStorage.getItem(R.APPLICATIONS)||"[]"),getStudent:s=>JSON.parse(localStorage.getItem(R.STUDENTS)||"[]").find(l=>l.id===s),getCompany:s=>JSON.parse(localStorage.getItem(R.COMPANIES)||"[]").find(l=>l.id===s),getDrive:s=>JSON.parse(localStorage.getItem(R.DRIVES)||"[]").find(l=>l.id===s),getEligibleStudentsForDrive:s=>d.getStudents().filter(l=>l.isVerified&&!l.isBlacklisted&&l.cgpa>=s.minCgpa&&l.backlogs<=s.maxBacklogs&&s.eligibleBranches.includes(l.branch)),saveAdmin:s=>{const t=JSON.parse(localStorage.getItem(R.ADMINS)||"[]"),l=t.findIndex(x=>x.email===s.email);l>=0?t[l]=s:t.push(s),localStorage.setItem(R.ADMINS,JSON.stringify(t))},saveStudent:s=>{const t=d.getStudents(),l=t.findIndex(x=>x.id===s.id);l>=0?t[l]=s:t.push(s),localStorage.setItem(R.STUDENTS,JSON.stringify(t))},registerStudent:s=>{const t=d.getStudents();return t.find(l=>l.email===s.email||l.rollNo===s.rollNo)?!1:(t.push(s),localStorage.setItem(R.STUDENTS,JSON.stringify(t)),!0)},deleteStudent:s=>{d.bulkDeleteStudents([s])},bulkDeleteStudents:s=>{const l=d.getStudents().filter(c=>!s.includes(c.id));localStorage.setItem(R.STUDENTS,JSON.stringify(l));const n=d.getApplications().filter(c=>!s.includes(c.studentId));localStorage.setItem(R.APPLICATIONS,JSON.stringify(n))},verifyStudent:s=>{d.bulkVerifyStudents([s])},bulkVerifyStudents:s=>{const t=d.getStudents();t.forEach(l=>{s.includes(l.id)&&(l.isVerified=!0)}),localStorage.setItem(R.STUDENTS,JSON.stringify(t))},bulkBlacklistStudents:(s,t)=>{const l=d.getStudents();l.forEach(x=>{s.includes(x.id)&&(x.isBlacklisted=t)}),localStorage.setItem(R.STUDENTS,JSON.stringify(l))},importStudents:s=>{const l=[...d.getStudents(),...s];localStorage.setItem(R.STUDENTS,JSON.stringify(l))},bulkAddStudents:s=>{d.importStudents(s)},saveCompany:s=>{const t=d.getCompanies(),l=t.findIndex(x=>x.id===s.id);l>=0?t[l]=s:t.push(s),localStorage.setItem(R.COMPANIES,JSON.stringify(t))},saveDrive:s=>{const t=d.getDrives(),l=t.findIndex(x=>x.id===s.id);l>=0?t[l]=s:t.push(s),localStorage.setItem(R.DRIVES,JSON.stringify(t))},approveCompany:s=>{const t=d.getCompanies(),l=t.find(x=>x.id===s);l&&(l.isApproved=!0,localStorage.setItem(R.COMPANIES,JSON.stringify(t)))},saveApplication:s=>{const t=d.getApplications(),l=t.findIndex(x=>x.id===s.id);l>=0?t[l]=s:t.push(s),localStorage.setItem(R.APPLICATIONS,JSON.stringify(t))},updateApplication:s=>{d.saveApplication(s)},updateApplicationStatus:(s,t)=>{const l=d.getApplications(),x=l.find(n=>n.id===s);x&&(x.status=t,localStorage.setItem(R.APPLICATIONS,JSON.stringify(l)))},login:(s,t,l)=>{if(l===B.ADMIN){if(t==="nfsu_123"){const c={id:"master_admin",name:"Placement Officer",email:"admin@nfsu.ac.in",role:B.ADMIN};return sessionStorage.setItem(R.USER,JSON.stringify(c)),c}const n=JSON.parse(localStorage.getItem(R.ADMINS)||"[]").find(c=>c.password===t);if(n){const c={id:n.id,name:n.name,email:n.email,role:B.ADMIN};return sessionStorage.setItem(R.USER,JSON.stringify(c)),c}return null}if(l===B.STUDENT){const n=d.getStudents().find(c=>c.email===s&&c.password===t);if(n){if(n.isBlacklisted)return null;const c={id:n.id,name:n.name,email:n.email,role:B.STUDENT};return sessionStorage.setItem(R.USER,JSON.stringify(c)),c}}if(l===B.RECRUITER){const n=d.getCompanies().find(c=>c.hrEmail===s&&c.password===t);if(n){if(!n.isApproved)return null;const c={id:n.id,name:n.name,email:n.hrEmail,role:B.RECRUITER};return sessionStorage.setItem(R.USER,JSON.stringify(c)),c}}return null},getCurrentUser:()=>{const s=sessionStorage.getItem(R.USER);return s?JSON.parse(s):null},logout:()=>{sessionStorage.removeItem(R.USER)},getNotices:()=>JSON.parse(localStorage.getItem(R.NOTICES)||"[]"),getActiveNotices:()=>JSON.parse(localStorage.getItem(R.NOTICES)||"[]").filter(t=>t.isActive).sort((t,l)=>new Date(l.postedAt).getTime()-new Date(t.postedAt).getTime()),saveNotice:s=>{const t=JSON.parse(localStorage.getItem(R.NOTICES)||"[]"),l=t.findIndex(x=>x.id===s.id);l>=0?t[l]=s:t.push(s),localStorage.setItem(R.NOTICES,JSON.stringify(t))},deleteNotice:s=>{const l=JSON.parse(localStorage.getItem(R.NOTICES)||"[]").filter(x=>x.id!==s);localStorage.setItem(R.NOTICES,JSON.stringify(l))},getEvents:()=>JSON.parse(localStorage.getItem(R.EVENTS)||"[]"),getActiveEvents:()=>JSON.parse(localStorage.getItem(R.EVENTS)||"[]").filter(t=>t.isActive).sort((t,l)=>new Date(t.date).getTime()-new Date(l.date).getTime()),saveEvent:s=>{const t=JSON.parse(localStorage.getItem(R.EVENTS)||"[]"),l=t.findIndex(x=>x.id===s.id);l>=0?t[l]=s:t.push(s),localStorage.setItem(R.EVENTS,JSON.stringify(t))},deleteEvent:s=>{const l=JSON.parse(localStorage.getItem(R.EVENTS)||"[]").filter(x=>x.id!==s);localStorage.setItem(R.EVENTS,JSON.stringify(l))}},Ys=()=>{const s=re(),t=Ss(),l=d.getCurrentUser(),[x,n]=o.useState(!1),r=["/","/login","/signup","/register-company","/recruiter-login","/admin-login"].includes(t.pathname),i="https://upload.wikimedia.org/wikipedia/en/a/a7/National_Forensic_Sciences_University_Logo.png",m=()=>{d.logout(),s("/")},f=j=>{switch(j){case B.ADMIN:return"/admin";case B.RECRUITER:return"/recruiter";case B.STUDENT:return"/student";default:return"/"}};return r?e.jsxs("div",{className:"min-h-screen flex flex-col font-sans bg-white text-slate-900",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-100 sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-6 h-20 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>s("/"),children:[e.jsx("img",{src:i,alt:"NFSU Logo",className:"w-10 h-10 object-contain transition-transform group-hover:scale-105"}),e.jsxs("div",{className:"hidden lg:flex flex-col",children:[e.jsx("span",{className:"text-lg font-extrabold text-slate-900 leading-none tracking-tight",children:"NFSU"}),e.jsx("span",{className:"text-sm font-bold text-rose-500 tracking-widest uppercase mt-0.5",children:"Placement Cell"})]})]}),e.jsx("div",{className:"h-6 w-px bg-gray-200 hidden md:block"}),e.jsx("div",{className:"flex items-center gap-3",children:l?e.jsxs("button",{onClick:()=>s(f(l.role)),className:"flex items-center gap-2 px-6 py-2.5 rounded-full bg-slate-900 text-white font-semibold text-sm hover:bg-slate-800 transition shadow-sm hover:shadow-md active:scale-95",children:[e.jsx(ve,{size:16}),"Go to Dashboard"]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>s("/login"),className:"flex items-center gap-2 px-6 py-2.5 rounded-full bg-slate-900 text-white font-semibold text-sm hover:bg-slate-800 transition shadow-sm hover:shadow-md active:scale-95",children:"Student Login"}),e.jsx("button",{onClick:()=>s("/signup"),className:"hidden md:flex items-center gap-2 px-6 py-2.5 rounded-full border border-slate-200 text-slate-600 font-semibold text-sm hover:border-slate-400 hover:text-slate-900 transition active:scale-95",children:"Register"})]})})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("button",{onClick:()=>s("/admin-login"),className:"hidden md:flex items-center gap-2 text-xs font-bold text-gray-400 hover:text-slate-900 uppercase tracking-wider transition",children:[e.jsx(Ue,{size:14})," Master"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>n(!x),onBlur:()=>setTimeout(()=>n(!1),200),className:"flex items-center gap-1.5 text-slate-600 font-semibold text-sm hover:text-rose-600 transition px-3 py-2 rounded-lg hover:bg-rose-50",children:["For Recruiters ",e.jsx(ks,{size:16,className:`transition-transform duration-200 ${x?"rotate-180":""}`})]}),x&&e.jsxs("div",{className:"absolute right-0 mt-4 w-64 bg-white rounded-2xl shadow-xl border border-gray-100 py-3 z-50 animate-in fade-in slide-in-from-top-2",children:[e.jsx("div",{className:"px-5 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Corporate Access"}),e.jsxs("button",{onClick:()=>s("/recruiter-login"),className:"w-full text-left px-5 py-3 text-sm text-slate-700 hover:bg-slate-50 hover:text-rose-600 flex items-center gap-3 font-medium transition-colors",children:[e.jsx(Cs,{size:16})," Recruiter Login"]}),e.jsxs("button",{onClick:()=>s("/register-company"),className:"w-full text-left px-5 py-3 text-sm text-slate-700 hover:bg-slate-50 hover:text-rose-600 flex items-center gap-3 font-medium transition-colors",children:[e.jsx(ie,{size:16})," Register Company"]})]})]})]})]})}),e.jsx("main",{className:"flex-grow",children:e.jsx(Ke,{},t.pathname)}),e.jsx("footer",{className:"bg-white border-t border-gray-100 py-12 mt-auto",children:e.jsxs("div",{className:"container mx-auto text-center px-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"text-rose-600 font-bold tracking-widest uppercase text-xs",children:"National Forensic Sciences University"})}),e.jsx("p",{className:"text-slate-900 font-bold text-lg tracking-tight",children:"Dharwad Campus Placement Cell"}),e.jsxs("p",{className:"text-gray-400 text-sm mt-4",children:["Â© ",new Date().getFullYear()," Official Portal â€¢ Secure & Verified"]})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex font-sans",children:[e.jsxs("aside",{className:"w-64 bg-slate-900 text-slate-300 flex flex-col fixed h-full z-10 shadow-xl",children:[e.jsxs("div",{className:"p-6 border-b border-slate-700 flex items-center gap-3 cursor-pointer hover:bg-slate-800 transition",onClick:()=>s("/"),children:[e.jsx("img",{src:i,alt:"NFSU Logo",className:"w-10 h-10 object-contain bg-white rounded-full p-0.5"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-white text-lg font-bold leading-tight",children:"NFSU Portal"}),e.jsx("p",{className:"text-xs text-slate-400 truncate w-32",title:l==null?void 0:l.name,children:l==null?void 0:l.name})]})]}),e.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[(l==null?void 0:l.role)===B.ADMIN&&e.jsxs(e.Fragment,{children:[e.jsx(le,{to:"/admin",icon:e.jsx(ve,{size:18}),label:"Overview",active:t.pathname==="/admin"}),e.jsx(le,{to:"/admin/students",icon:e.jsx(ke,{size:18}),label:"Student Database",active:t.pathname==="/admin/students"}),e.jsx(le,{to:"/admin/drives",icon:e.jsx(ie,{size:18}),label:"Placement Drives",active:t.pathname==="/admin/drives"}),e.jsx(le,{to:"/admin/mail-bot",icon:e.jsx(fe,{size:18}),label:"Mail Bot (AI)",active:t.pathname==="/admin/mail-bot"})]}),(l==null?void 0:l.role)===B.STUDENT&&e.jsxs(e.Fragment,{children:[e.jsx(le,{to:"/student",icon:e.jsx(ve,{size:18}),label:"Dashboard",active:t.pathname==="/student"}),e.jsx(le,{to:"/student/profile",icon:e.jsx(ke,{size:18}),label:"My Profile",active:t.pathname==="/student/profile"})]}),(l==null?void 0:l.role)===B.RECRUITER&&e.jsxs(e.Fragment,{children:[e.jsx(le,{to:"/recruiter",icon:e.jsx(ve,{size:18}),label:"Dashboard",active:t.pathname==="/recruiter"}),e.jsx(le,{to:"/recruiter/drives",icon:e.jsx(ie,{size:18}),label:"My Drives",active:t.pathname==="/recruiter/drives"})]})]}),e.jsx("div",{className:"p-4 border-t border-slate-700",children:e.jsxs("button",{onClick:m,className:"flex items-center gap-3 w-full px-4 py-2 text-sm text-red-400 hover:bg-slate-800 rounded transition",children:[e.jsx(As,{size:18}),"Sign Out"]})})]}),e.jsx("main",{className:"flex-1 ml-64 p-8 overflow-y-auto",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(Ke,{},t.pathname)})})]})},le=({to:s,icon:t,label:l,active:x})=>e.jsxs(Ds,{to:s,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${x?"bg-rose-600 text-white shadow-md":"hover:bg-slate-800"}`,children:[t,l]}),Ws=()=>{const[s,t]=o.useState(null),[l,x]=o.useState([]);return o.useEffect(()=>{const n=d.getActiveNotices();n.length>0&&t(n[0]);const c=d.getActiveEvents();x(c.slice(0,2))},[]),e.jsxs("div",{className:"flex flex-col min-h-[85vh] font-sans text-slate-900",children:[e.jsx("section",{className:"bg-white pt-20 pb-28 px-6 relative overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative z-10 flex flex-col md:flex-row items-center gap-20",children:[e.jsxs("div",{className:"flex-1 text-left animate-in slide-in-from-left-10 duration-700",children:[e.jsx("div",{className:"inline-block px-4 py-1.5 rounded-full bg-rose-50 border border-rose-100 text-rose-600 text-xs font-bold tracking-widest uppercase mb-8",children:"Official Placement Portal"}),e.jsxs("h1",{className:"text-6xl lg:text-7xl font-extrabold tracking-tight leading-[1.05] mb-8 text-slate-900",children:["Launch Your ",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-rose-600 to-purple-600",children:"Forensic Career"})]}),e.jsx("p",{className:"text-xl text-slate-500 max-w-lg leading-relaxed mb-10 font-medium",children:"Connecting NFSU Dharwad's elite talent with global security agencies, forensic labs, and top-tier recruiters."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm font-semibold text-slate-600",children:[e.jsxs("span",{className:"flex items-center gap-2 bg-slate-50 px-4 py-2 rounded-full border border-slate-100",children:[e.jsx(Ue,{size:18,className:"text-green-500"})," Admin Verified"]}),e.jsxs("span",{className:"flex items-center gap-2 bg-slate-50 px-4 py-2 rounded-full border border-slate-100",children:[e.jsx(ce,{size:18,className:"text-blue-500"})," Top Recruiters"]})]})]}),e.jsxs("div",{className:"flex-1 relative animate-in slide-in-from-right-10 duration-700 delay-100",children:[e.jsx("div",{className:"relative z-10",children:e.jsx("img",{src:"https://cdni.iconscout.com/illustration/premium/thumb/job-search-2537380-2146476.png",alt:"Placement Illustration",className:"w-full max-w-xl object-contain drop-shadow-2xl"})}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-rose-100/40 rounded-full blur-3xl -z-10"})]})]})}),e.jsxs("section",{className:"bg-slate-50 py-24 px-6 relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-16 bg-gradient-to-b from-white to-transparent"}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-16 text-slate-900",children:"Placement Updates"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"group bg-white rounded-3xl p-8 shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] transition-all duration-300 border border-slate-100 flex flex-col",children:[e.jsx("div",{className:"w-14 h-14 bg-rose-50 rounded-2xl flex items-center justify-center text-rose-600 mb-6 group-hover:scale-110 transition-transform",children:e.jsx(rs,{size:26})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Latest Notice"}),s?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-slate-500 leading-relaxed mb-8 text-sm flex-grow",children:[e.jsx("strong",{children:s.title}),e.jsx("br",{}),s.description]}),e.jsxs("div",{className:"border-t border-slate-50 pt-4 flex items-center gap-2 text-xs text-slate-400 font-bold uppercase tracking-wider",children:[e.jsx(se,{size:14})," ",new Date(s.postedAt).toLocaleDateString()]})]}):e.jsx("p",{className:"text-slate-400 leading-relaxed mb-8 text-sm flex-grow italic",children:"No notices posted yet. Check back later for updates!"})]}),e.jsxs("div",{className:"group bg-white rounded-3xl p-8 shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] transition-all duration-300 border border-slate-100 flex flex-col",children:[e.jsx("div",{className:"w-14 h-14 bg-blue-50 rounded-2xl flex items-center justify-center text-blue-600 mb-6 group-hover:scale-110 transition-transform",children:e.jsx(se,{size:26})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Upcoming Events"}),l.length>0?e.jsx("div",{className:"space-y-6 flex-grow",children:l.map(n=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 min-w-[50px] text-center border border-slate-100",children:[e.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:n.month}),e.jsx("span",{className:"block text-lg font-bold text-slate-900",children:n.day})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:n.title}),e.jsx("p",{className:"text-xs text-slate-500",children:n.description})]})]},n.id))}):e.jsx("p",{className:"text-slate-400 text-sm italic flex-grow",children:"No upcoming events scheduled. Stay tuned!"})]}),e.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 shadow-2xl text-white relative overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"relative z-10 flex-grow",children:[e.jsx("div",{className:"w-14 h-14 bg-white/10 rounded-2xl flex items-center justify-center text-white mb-6 backdrop-blur-sm",children:e.jsx(oe,{size:26})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Critical Instructions"}),e.jsxs("ul",{className:"space-y-4 text-slate-300 text-sm leading-relaxed",children:[e.jsxs("li",{className:"flex gap-3 items-start",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-rose-500 rounded-full mt-2 shrink-0"}),e.jsxs("span",{children:["Register using official ",e.jsx("strong",{children:"NFSU email ID"})," only."]})]}),e.jsxs("li",{className:"flex gap-3 items-start",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-rose-500 rounded-full mt-2 shrink-0"}),e.jsxs("span",{children:["Upload resume in ",e.jsx("strong",{children:"PDF format"})," (Max 2MB)."]})]}),e.jsxs("li",{className:"flex gap-3 items-start",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-rose-500 rounded-full mt-2 shrink-0"}),e.jsxs("span",{children:["Wait for admin ",e.jsx("strong",{children:"verification"})," before applying."]})]})]})]}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-rose-600 rounded-full blur-3xl opacity-20"})]})]})]})]})]})},Ks=()=>{const[s,t]=o.useState(""),[l,x]=o.useState(""),[n,c]=o.useState(""),r=re();Me.useEffect(()=>{const m=d.getCurrentUser();m&&m.role===B.STUDENT&&r("/student")},[r]);const i=m=>{m.preventDefault(),c(""),d.login(s,l,B.STUDENT)?r("/student"):c("Invalid credentials or student not found.")};return e.jsxs("div",{className:"min-h-screen flex bg-white font-sans",children:[e.jsxs("div",{className:"w-full lg:w-[45%] flex flex-col justify-center p-8 lg:p-20 relative",children:[e.jsxs("button",{onClick:()=>r("/"),className:"absolute top-8 left-8 text-slate-400 hover:text-slate-900 transition flex items-center gap-2 text-sm font-semibold",children:[e.jsx(he,{size:18})," Back"]}),e.jsxs("div",{className:"max-w-md w-full mx-auto",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-xl flex items-center justify-center mb-8 text-2xl",children:"ðŸŽ“"}),e.jsx("h1",{className:"text-3xl lg:text-4xl font-extrabold text-slate-900 mb-3 tracking-tight",children:"Welcome back"}),e.jsx("p",{className:"text-slate-500 mb-10 text-lg",children:"Please enter your student details."}),e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"University Email"}),e.jsx("input",{type:"email",className:"w-full px-5 py-3.5 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition font-medium text-slate-900 placeholder-slate-400",placeholder:"student@nfsu.ac.in",value:s,onChange:m=>t(m.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"Password"}),e.jsx("span",{className:"text-xs font-bold text-rose-600 cursor-pointer hover:text-rose-700",children:"Forgot password?"})]}),e.jsx("input",{type:"password",className:"w-full px-5 py-3.5 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition font-medium text-slate-900 placeholder-slate-400",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:l,onChange:m=>x(m.target.value),required:!0})]}),n&&e.jsxs("div",{className:"text-rose-600 bg-rose-50 px-4 py-3 rounded-xl text-sm font-bold border border-rose-100 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-rose-600 rounded-full"}),n]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-4 rounded-xl font-bold text-sm hover:bg-slate-800 transition shadow-xl shadow-slate-200 active:scale-[0.99] duration-200",children:"Continue"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:["Don't have an account? ",e.jsx("span",{onClick:()=>r("/signup"),className:"text-slate-900 font-bold cursor-pointer hover:underline",children:"Sign up"})]})})]})]}),e.jsxs("div",{className:"hidden lg:flex w-[55%] bg-slate-50 relative overflow-hidden items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:16px_16px] opacity-50"}),e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-200 rounded-full blur-3xl opacity-30 mix-blend-multiply filter"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-rose-200 rounded-full blur-3xl opacity-30 mix-blend-multiply filter"}),e.jsxs("div",{className:"relative z-10 p-10 text-center",children:[e.jsx("img",{src:"https://cdni.iconscout.com/illustration/premium/thumb/login-3305943-2757111.png",alt:"Secure Login",className:"max-w-lg w-full object-contain drop-shadow-2xl mb-8 transform hover:scale-105 transition duration-700"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Secure Placement Portal"}),e.jsx("p",{className:"text-slate-500",children:"Access your placement dashboard safely."})]})]})]})},Qs=()=>{const[s,t]=o.useState(""),[l,x]=o.useState(""),n=re(),c=r=>{r.preventDefault(),x(""),d.login("",s,B.ADMIN)?n("/admin"):x("Access Denied: Incorrect Master Key")};return e.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white p-10 rounded-2xl shadow-2xl w-full max-w-sm text-center relative",children:[e.jsx("button",{onClick:()=>n("/"),className:"absolute top-4 left-4 p-2 text-gray-400 hover:text-gray-700 transition rounded-full hover:bg-gray-100",children:e.jsx(he,{size:20})}),e.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-900",children:e.jsx(Ue,{size:40})}),e.jsx("h2",{className:"text-2xl font-extrabold text-slate-900 mb-2",children:"Master Access"}),e.jsx("p",{className:"text-slate-500 text-sm mb-8",children:"Restricted to Placement Cell Officers only."}),e.jsxs("form",{onSubmit:c,className:"space-y-6 text-left",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Master Key"}),e.jsxs("div",{className:"relative",children:[e.jsx(Es,{className:"absolute left-4 top-3.5 text-gray-400",size:18}),e.jsx("input",{type:"password",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-900 outline-none transition font-medium text-slate-900",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:s,onChange:r=>t(r.target.value),autoFocus:!0,required:!0})]})]}),l&&e.jsx("div",{className:"text-red-500 text-sm font-bold text-center",children:l}),e.jsxs("button",{type:"submit",className:"w-full bg-slate-900 text-white py-4 rounded-lg font-bold hover:bg-slate-800 transition flex items-center justify-center gap-2",children:["Authenticate ",e.jsx(ns,{size:16})]})]})]})})},ee=["M.Sc Cyber Security","M.Sc Digital Forensics","M.Sc Forensic Science","B.Tech Computer Science","MBA Forensic Accounting"],Pe={url:"http://your-listmonk-server:9000",username:"admin",password:"listmonk"},Xs=`Basic ${btoa(`${Pe.username}:${Pe.password}`)}`,K={sendTransactionalEmail:async(s,t,l,x)=>{try{console.log(`[Listmonk] Sending transactional email to ${s}`);const n=await fetch(`${Pe.url}/api/tx`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:Xs},body:JSON.stringify({subscriber_email:s,subject:t,body:l,template_id:x||void 0,content_type:"html"})});if(!n.ok){const c=await n.text();throw new Error(c||"Failed to send transactional email")}return{success:!0}}catch(n){return console.error("[Listmonk Error]:",n),{success:!1,error:n}}},sendStudentWelcomeEmail:async s=>{const t="ðŸŽ“ Welcome to NFSU Placement Portal - Your Account is Ready!",l=`
            <h2>Welcome to NFSU Dharwad</h2>
            <p>Dear ${s.name},</p>
            <p>Your account has been created. Use the following credentials to login:</p>
            <div style="background: #f0f9ff; padding: 15px; border-radius: 8px;">
                <p><strong>Email:</strong> ${s.email}</p>
                <p><strong>Password:</strong> ${s.password}</p>
                <p><strong>Roll No:</strong> ${s.rollNo}</p>
            </div>
            <p><a href="${window.location.origin}/login">Login Here</a></p>
        `;return K.sendTransactionalEmail(s.email,t,l)},sendBulkStudentWelcomeEmails:async s=>{let t=0;for(const l of s)(await K.sendStudentWelcomeEmail(l)).success&&t++;return t},sendCompanyApprovalEmail:async s=>{const t="âœ… Company Approved - NFSU Dharwad",l=`
            <h2>Registration Successful</h2>
            <p>Dear ${s.hrName},</p>
            <p>Your company <strong>${s.name}</strong> has been approved. You can now login and manage recruitment drives.</p>
            <p><a href="${window.location.origin}/recruiter-login">Recruiter Login</a></p>
        `;return K.sendTransactionalEmail(s.hrEmail,t,l)},notifyEligibleStudents:async(s,t)=>{const l=d.getEligibleStudentsForDrive(s),x=`ðŸš€ Placement Drive: ${s.role} at ${t.name}`,n=`
            <h2>New Placement Opportunity</h2>
            <p>Dear Student,</p>
            <div style="background: #f4f4f4; padding: 15px; border-radius: 5px;">
                <p><strong>Company:</strong> ${t.name}</p>
                <p><strong>Role:</strong> ${s.role}</p>
                <p><strong>CTC:</strong> ${s.ctc}</p>
                <p><strong>Deadline:</strong> ${s.deadline}</p>
            </div>
            <p><a href="${window.location.origin}/login">Click here to apply</a></p>
        `;let c=0;for(const r of l)(await K.sendTransactionalEmail(r.email,x,n)).success&&c++;return{success:!0,count:c}},sendBulkNotification:async(s,t,l)=>{const x=`<div style="white-space: pre-wrap; font-family: monospace;">${l}</div>`;let n=0;for(const c of s)(await K.sendTransactionalEmail(c,t,x)).success&&n++;return{success:n>0,count:n}}},Zs=()=>{const s=re(),[t,l]=o.useState({name:"",hrName:"",hrEmail:"",password:"",role:"",ctc:"",minCgpa:0,maxBacklogs:0,eligibleBranches:[],deadline:"",description:""}),[x,n]=o.useState(!1),c=i=>{const m=t.eligibleBranches||[];m.includes(i)?l({...t,eligibleBranches:m.filter(f=>f!==i)}):l({...t,eligibleBranches:[...m,i]})},r=async i=>{i.preventDefault();const m=`c${Date.now()}`,f={id:m,name:t.name,hrName:t.hrName,hrEmail:t.hrEmail,password:t.password,isApproved:!1,description:t.description},j={id:`d${Date.now()}`,companyId:m,role:t.role,ctc:t.ctc,minCgpa:t.minCgpa,maxBacklogs:t.maxBacklogs,eligibleBranches:t.eligibleBranches,deadline:t.deadline,description:t.description,rounds:["Aptitude","Technical","HR"],status:"Open"};d.saveCompany(f),d.saveDrive(j);try{await K.notifyEligibleStudents(j,f)}catch(S){console.error("Listmonk notification failed during registration:",S)}n(!0)};return x?e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center p-4 bg-gray-50",children:e.jsxs("div",{className:"bg-white p-12 rounded-2xl shadow-xl text-center max-w-lg border border-gray-100",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(H,{size:40})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Registration Submitted"}),e.jsx("p",{className:"text-gray-500 mb-8 leading-relaxed",children:"Thank you for partnering with NFSU. Your company profile and initial drive have been submitted. Once approved by the Admin, you can login to manage multiple drives and applicants."}),e.jsx("button",{onClick:()=>s("/"),className:"bg-gray-900 text-white px-8 py-3 rounded-full hover:bg-gray-800 transition font-semibold",children:"Return Home"})]})}):e.jsxs("div",{className:"max-w-4xl mx-auto py-10 px-4",children:[e.jsxs("button",{onClick:()=>s("/"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 mb-6 transition",children:[e.jsx(he,{size:18})," Back to Home"]}),e.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-2xl shadow-xl border border-gray-100",children:[e.jsxs("div",{className:"mb-10 text-center md:text-left",children:[e.jsx("span",{className:"text-rose-600 font-bold uppercase tracking-wider text-sm",children:"For Recruiters"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mt-2",children:"Partner Registration"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Create your employer account and post your first drive."})]}),e.jsxs("form",{onSubmit:r,className:"space-y-10",children:[e.jsxs("section",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2 mb-6 border-b pb-2",children:[e.jsx(Is,{size:20,className:"text-rose-600"}),"Company Details"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),e.jsx("input",{required:!0,type:"text",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.name,onChange:i=>l({...t,name:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HR Name"}),e.jsx("input",{required:!0,type:"text",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.hrName,onChange:i=>l({...t,hrName:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HR Email (Login ID)"}),e.jsx("input",{required:!0,type:"email",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.hrEmail,onChange:i=>l({...t,hrEmail:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{required:!0,type:"password",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none pl-10",value:t.password,onChange:i=>l({...t,password:i.target.value})}),e.jsx(Te,{className:"absolute left-3 top-3 text-gray-400",size:14})]})]})]})]}),e.jsxs("section",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2 mb-6 border-b pb-2",children:[e.jsx(H,{size:20,className:"text-rose-600"}),"Initial Drive Details"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Offered"}),e.jsx("input",{required:!0,type:"text",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.role,onChange:i=>l({...t,role:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CTC / Stipend"}),e.jsx("input",{required:!0,type:"text",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",placeholder:"e.g. 12 LPA",value:t.ctc,onChange:i=>l({...t,ctc:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum CGPA"}),e.jsx("input",{required:!0,type:"number",step:"0.1",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.minCgpa,onChange:i=>l({...t,minCgpa:parseFloat(i.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Backlogs Allowed"}),e.jsx("input",{required:!0,type:"number",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.maxBacklogs,onChange:i=>l({...t,maxBacklogs:parseInt(i.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Application Deadline"}),e.jsx("input",{required:!0,type:"date",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50 focus:ring-2 focus:ring-rose-500 outline-none",value:t.deadline,onChange:i=>l({...t,deadline:i.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Eligible Branches"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:ee.map(i=>{var m;return e.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-rose-50 hover:border-rose-200 cursor-pointer transition",children:[e.jsx("input",{type:"checkbox",checked:(m=t.eligibleBranches)==null?void 0:m.includes(i),onChange:()=>c(i),className:"rounded text-rose-600 focus:ring-rose-500 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:i})]},i)})})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"submit",className:"bg-rose-600 text-white px-10 py-4 rounded-full font-bold hover:bg-rose-700 transition shadow-xl shadow-rose-200",children:"Register & Post Drive"})})]})]})]})},et=()=>{const s=re(),[t,l]=o.useState({name:"",email:"",password:"",rollNo:"",course:"M.Sc",branch:ee[0],year:2025,cgpa:0,backlogs:0,skills:[],certifications:[]}),[x,n]=o.useState(""),[c,r]=o.useState(""),[i,m]=o.useState(""),[f,j]=o.useState(null),[S,E]=o.useState(""),[k,M]=o.useState(!1),V=w=>{if(w.target.files&&w.target.files[0]){const T=w.target.files[0];if(T.size>2*1024*1024){E("File size too large. Max 2MB allowed for local storage.");return}j(T),E("")}},F=async w=>{if(w.preventDefault(),E(""),M(!0),t.password!==x){E("Passwords do not match."),M(!1);return}try{const T={...t,id:`s_${Date.now()}`,skills:c.split(",").map(y=>y.trim()).filter(y=>y),certifications:i.split(",").map(y=>y.trim()).filter(y=>y),resumeUrl:f?"uploaded":void 0,resumeFileName:f?f.name:void 0,resumeUploadedAt:f?new Date().toLocaleDateString():void 0,isVerified:!1,isBlacklisted:!1};d.registerStudent(T)?(await K.sendStudentWelcomeEmail(T),alert("Registration Successful! A welcome email has been sent to your registered address."),s("/login")):E("Account with this email already exists.")}catch(T){console.error(T),E("Failed to save registration data.")}finally{M(!1)}};return e.jsxs("div",{className:"max-w-3xl mx-auto py-10 px-4",children:[e.jsxs("button",{onClick:()=>s("/"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 mb-6 transition",children:[e.jsx(he,{size:18})," Back to Home"]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-900 text-white p-8",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-600 rounded-lg flex items-center justify-center mb-4 text-white",children:e.jsx(Rs,{size:24})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Student Registration"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Create your official placement profile."})]}),e.jsxs("form",{onSubmit:F,className:"p-8 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-rose-600 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Account Credentials"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{required:!0,type:"text",className:"w-full border-gray-200 border p-2.5 rounded focus:ring-2 focus:ring-rose-500 outline-none bg-gray-50",value:t.name,onChange:w=>l({...t,name:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Official Email ID"}),e.jsx("input",{required:!0,type:"email",className:"w-full border-gray-200 border p-2.5 rounded focus:ring-2 focus:ring-rose-500 outline-none bg-gray-50",value:t.email,onChange:w=>l({...t,email:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{required:!0,type:"password",className:"w-full border-gray-200 border p-2.5 rounded focus:ring-2 focus:ring-rose-500 outline-none bg-gray-50",value:t.password,onChange:w=>l({...t,password:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{required:!0,type:"password",className:"w-full border-gray-200 border p-2.5 rounded focus:ring-2 focus:ring-rose-500 outline-none bg-gray-50",value:x,onChange:w=>n(w.target.value)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-rose-600 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Academic Details"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roll Number"}),e.jsx("input",{required:!0,type:"text",className:"w-full border-gray-200 border p-2.5 rounded focus:ring-2 focus:ring-rose-500 outline-none bg-gray-50",value:t.rollNo,onChange:w=>l({...t,rollNo:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),e.jsxs("select",{className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:t.course,onChange:w=>l({...t,course:w.target.value}),children:[e.jsx("option",{children:"M.Sc"}),e.jsx("option",{children:"B.Tech"}),e.jsx("option",{children:"MBA"}),e.jsx("option",{children:"M.Tech"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),e.jsx("select",{className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:t.branch,onChange:w=>l({...t,branch:w.target.value}),children:ee.map(w=>e.jsx("option",{children:w},w))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passing Year"}),e.jsx("input",{required:!0,type:"number",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:t.year,onChange:w=>l({...t,year:parseInt(w.target.value)||0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CGPA (Current)"}),e.jsx("input",{required:!0,type:"number",step:"0.01",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:t.cgpa,onChange:w=>l({...t,cgpa:parseFloat(w.target.value)||0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Active Backlogs"}),e.jsx("input",{required:!0,type:"number",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:t.backlogs,onChange:w=>l({...t,backlogs:parseInt(w.target.value)||0})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-rose-600 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Professional Profile"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skills (Comma separated)"}),e.jsx("input",{type:"text",placeholder:"Python, Java, Forensics, Networking",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:c,onChange:w=>r(w.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications (Comma separated)"}),e.jsx("input",{type:"text",placeholder:"CEH, CISSP, CCNA",className:"w-full border-gray-200 border p-2.5 rounded bg-gray-50",value:i,onChange:w=>m(w.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Resume (PDF)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:bg-gray-50 transition cursor-pointer relative group bg-gray-50",children:[e.jsx("input",{type:"file",accept:".pdf",onChange:V,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-500 group-hover:text-gray-700 transition",children:[e.jsx("div",{className:"w-10 h-10 bg-rose-50 text-rose-600 rounded-full flex items-center justify-center mb-1 group-hover:scale-110 transition",children:e.jsx(De,{size:20})}),e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:f?f.name:"Click to upload resume"}),e.jsx("span",{className:"text-xs",children:"PDF only (Max 2MB)"})]})]})]})]})]}),S&&e.jsxs("div",{className:"flex items-center gap-2 text-red-600 bg-red-50 p-3 rounded text-sm font-medium border border-red-100",children:[e.jsx(oe,{size:16}),S]}),e.jsx("div",{className:"pt-4 border-t border-gray-100",children:e.jsx("button",{type:"submit",disabled:k,className:"w-full bg-rose-600 text-white py-4 rounded-lg font-bold hover:bg-rose-700 transition shadow-lg shadow-rose-200 text-lg disabled:opacity-70 disabled:cursor-not-allowed",children:k?"Saving Profile...":"Complete Registration"})})]})]})]})},st=()=>{const[s,t]=o.useState(""),[l,x]=o.useState(""),[n,c]=o.useState(""),r=re(),i=m=>{m.preventDefault(),c(""),d.login(s,l,B.RECRUITER)?r("/recruiter"):c("Invalid credentials or company not approved.")};return e.jsx("div",{className:"min-h-[85vh] bg-gradient-to-br from-blue-50 to-white flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden max-w-md w-full border border-gray-100 relative",children:[e.jsx("button",{onClick:()=>r("/"),className:"absolute top-4 left-4 p-2 text-gray-400 hover:text-gray-700 transition rounded-full hover:bg-gray-100",children:e.jsx(he,{size:20})}),e.jsxs("div",{className:"pt-12 pb-8 px-8 text-center border-b border-gray-100 bg-gray-50",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-xl shadow-md flex items-center justify-center mx-auto mb-4 text-rose-600",children:e.jsx(ce,{size:32})}),e.jsx("h2",{className:"text-2xl font-extrabold text-gray-900",children:"Employer Login"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Manage drives & view applicants"})]}),e.jsxs("form",{onSubmit:i,className:"p-8 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Work Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-4 top-3.5 text-gray-400",size:18}),e.jsx("input",{type:"email",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500 outline-none transition font-medium",placeholder:"hr@company.com",value:s,onChange:m=>t(m.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-4 top-3.5 text-gray-400",size:18}),e.jsx("input",{type:"password",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500 outline-none transition font-medium",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:l,onChange:m=>x(m.target.value),required:!0})]})]}),n&&e.jsx("div",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg border border-red-100 font-medium",children:n}),e.jsx("button",{type:"submit",className:"w-full bg-rose-600 text-white py-3.5 rounded-lg font-bold hover:bg-rose-700 transition shadow-lg shadow-rose-200 mt-2",children:"Login to Dashboard"}),e.jsxs("p",{className:"text-center text-sm text-gray-500 mt-4",children:["Not registered? ",e.jsx("span",{onClick:()=>r("/register-company"),className:"text-rose-600 font-bold cursor-pointer hover:underline",children:"Sign up here"})]})]})]})})},tt=({application:s,drive:t,company:l})=>{const x=r=>{switch(r){case"Cleared":return e.jsx(H,{size:20,className:"text-green-500"});case"Rejected":return e.jsx(de,{size:20,className:"text-red-500"});case"Scheduled":return e.jsx(se,{size:20,className:"text-blue-500"});case"Pending":default:return e.jsx(os,{size:20,className:"text-slate-400"})}},n=r=>{switch(r){case"Cleared":return"bg-green-100 text-green-700 border-green-200";case"Rejected":return"bg-red-100 text-red-700 border-red-200";case"Scheduled":return"bg-blue-100 text-blue-700 border-blue-200";case"Pending":default:return"bg-slate-100 text-slate-600 border-slate-200"}},c=s.roundStatuses[s.currentRound];return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:t.role}),e.jsx("p",{className:"text-sm text-slate-600",children:l.name})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${n((c==null?void 0:c.status)||"Pending")}`,children:s.status})]}),e.jsxs("p",{className:"text-xs text-slate-400",children:["Applied: ",new Date(s.appliedAt).toLocaleDateString()]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center justify-between mb-4",children:s.roundStatuses.map((r,i)=>e.jsxs(Me.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all ${r.status==="Cleared"?"bg-green-500 border-green-500 text-white":r.status==="Rejected"?"bg-red-500 border-red-500 text-white":r.status==="Scheduled"?"bg-blue-500 border-blue-500 text-white":i===s.currentRound?"bg-white border-blue-500 text-blue-500":"bg-white border-slate-300 text-slate-400"}`,children:r.status==="Cleared"?e.jsx(H,{size:20}):r.status==="Rejected"?e.jsx(de,{size:20}):e.jsx("span",{className:"text-xs font-bold",children:i+1})}),e.jsx("p",{className:`text-[10px] font-medium mt-2 text-center max-w-[80px] ${i===s.currentRound?"text-blue-600":"text-slate-500"}`,children:r.roundName})]}),i<s.roundStatuses.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 ${r.status==="Cleared"?"bg-green-500":"bg-slate-200"}`})]},i))})}),c&&e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x(c.status),e.jsxs("h4",{className:"font-bold text-slate-900",children:["Current Round: ",c.roundName]})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"text-slate-600",children:[e.jsx("span",{className:"font-semibold",children:"Status:"})," ",c.status]}),c.scheduledDate&&e.jsxs("p",{className:"text-slate-600",children:[e.jsx("span",{className:"font-semibold",children:"Scheduled:"})," ",new Date(c.scheduledDate).toLocaleString()]}),c.feedback&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200",children:e.jsxs("p",{className:"text-slate-600 flex items-start gap-2",children:[e.jsx(is,{size:16,className:"mt-0.5 text-slate-400"}),e.jsx("span",{className:"italic",children:c.feedback})]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-3",children:"Round History"}),e.jsx("div",{className:"space-y-2",children:s.roundStatuses.map((r,i)=>e.jsxs("div",{className:`border rounded-lg p-3 ${i===s.currentRound?"border-blue-200 bg-blue-50":"border-slate-200 bg-white"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[x(r.status),e.jsxs("span",{className:"font-semibold text-sm text-slate-900",children:[i+1,". ",r.roundName]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold border ${n(r.status)}`,children:r.status})]}),r.completedDate&&e.jsxs("p",{className:"text-xs text-slate-500 ml-7",children:["Completed: ",new Date(r.completedDate).toLocaleDateString()]}),r.scheduledDate&&!r.completedDate&&e.jsxs("p",{className:"text-xs text-blue-600 ml-7",children:["Scheduled: ",new Date(r.scheduledDate).toLocaleString()]}),r.feedback&&e.jsxs("p",{className:"text-xs text-slate-600 ml-7 mt-1 italic",children:['"',r.feedback,'"']})]},i))})]}),s.feedback&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-2",children:"Overall Feedback"}),e.jsxs("p",{className:"text-sm text-slate-600 italic bg-slate-50 p-3 rounded-lg",children:['"',s.feedback,'"']})]})]})},lt=()=>{const s=d.getCurrentUser(),t=re(),[l,x]=o.useState(void 0),[n,c]=o.useState([]),[r,i]=o.useState([]),[m,f]=o.useState("drives"),[j,S]=o.useState(null),[E,k]=o.useState(!1),[M,V]=o.useState(""),[F,w]=o.useState("");o.useEffect(()=>{if(s){const N=d.getStudents().find(h=>h.id===s.id);if(x(N),N){const h=d.getCompanies(),D=d.getDrives().map(u=>{const v=h.find(z=>z.id===u.companyId);return v?{...u,companyName:v.name,isCompanyApproved:v.isApproved}:null}).filter(u=>u!==null).filter(u=>u.isCompanyApproved&&u.status==="Open"&&N.cgpa>=u.minCgpa&&N.backlogs<=u.maxBacklogs&&u.eligibleBranches.includes(N.branch)&&new Date(u.deadline)>=new Date);c(D);const U=d.getApplications();i(U.filter(u=>u.studentId===N.id))}}},[s]);const T=y=>{if(!l)return;const N=y.rounds.map((b,D)=>({roundNumber:D,roundName:b,status:"Pending",updatedAt:new Date().toISOString()})),h={id:`a${Date.now()}`,studentId:l.id,driveId:y.id,status:W.APPLIED,currentRound:0,roundStatuses:N,appliedAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),verified:!0};d.saveApplication(h),i([...r,h]),alert(`Successfully applied to ${y.role} at ${y.companyName}!`)},g=y=>r.some(N=>N.driveId===y);return l?e.jsxs("div",{className:"space-y-10 font-sans text-slate-900 pb-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:"Student Dashboard"}),e.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Manage your placement journey and track applications."})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-6",children:[e.jsxs("button",{onClick:()=>t("/student/profile"),className:"text-right hover:opacity-70 transition-opacity",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Resume Status"}),e.jsx("div",{className:"flex items-center justify-end gap-2 mt-1",children:l.resumeUrl?e.jsxs("span",{className:"flex items-center gap-1.5 font-bold text-sm text-green-700 bg-green-50 px-3 py-1.5 rounded-lg border border-green-100",children:[e.jsx(ue,{size:14})," Uploaded"]}):e.jsxs("span",{className:"flex items-center gap-1.5 font-bold text-sm text-amber-700 bg-amber-50 px-3 py-1.5 rounded-lg border border-amber-100",children:[e.jsx(oe,{size:14})," Pending"]})})]}),e.jsx("div",{className:"w-px h-8 bg-slate-100"}),e.jsxs("button",{onClick:()=>t("/student/profile"),className:"text-right hover:opacity-70 transition-opacity",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"CGPA"}),e.jsx("span",{className:"font-bold text-slate-900 text-lg",children:l.cgpa})]})]})]}),!l.isVerified&&e.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-5 rounded-2xl flex items-start gap-4 text-amber-900 shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center shrink-0",children:e.jsx(zs,{size:20,className:"text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm",children:"Verification Pending"}),e.jsxs("p",{className:"text-xs mt-1 leading-relaxed opacity-90",children:["Your academic profile is under review by the Placement Cell. You can view eligible drives, but you ",e.jsx("strong",{children:"cannot apply"})," until verification is complete."]})]})]}),e.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[e.jsxs("button",{onClick:()=>f("drives"),className:`px-6 py-3 text-sm font-bold transition-all relative ${m==="drives"?"text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:["Open Opportunities ",e.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-0.5 rounded-full text-xs ml-2",children:n.length}),m==="drives"&&e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-slate-900"})]}),e.jsxs("button",{onClick:()=>f("applications"),className:`px-6 py-3 text-sm font-bold transition-all relative ${m==="applications"?"text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:["My Applications ",e.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-0.5 rounded-full text-xs ml-2",children:r.length}),m==="applications"&&e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-slate-900"})]})]}),m==="drives"&&e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-4",children:n.length===0?e.jsxs("div",{className:"col-span-full py-20 text-center bg-slate-50 rounded-3xl border border-dashed border-slate-200",children:[e.jsx(ie,{className:"mx-auto text-slate-300 mb-4",size:48}),e.jsx("p",{className:"text-slate-500 font-medium",children:"No eligible drives found matching your profile."})]}):n.map(y=>e.jsxs("div",{className:"group bg-white p-6 rounded-2xl border border-slate-100 shadow-[0_2px_10px_rgb(0,0,0,0.02)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] transition-all duration-300 relative flex flex-col h-full",children:[!l.isVerified&&e.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-[2px] z-10 rounded-2xl flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"bg-white px-4 py-2 rounded-full shadow-lg border border-slate-100 flex items-center gap-2 text-xs font-bold text-slate-500",children:[e.jsx(Te,{size:12})," Verification Required"]})}),e.jsx("div",{className:"flex justify-between items-start mb-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-slate-50 to-slate-100 border border-slate-100 flex items-center justify-center text-xl font-bold text-slate-700 shadow-inner shrink-0",children:y.companyName.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 group-hover:text-rose-600 transition-colors line-clamp-1",children:y.role}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:y.companyName})]})]})}),e.jsx("div",{className:"mb-6 flex-grow",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-xs font-semibold bg-green-50 text-green-700 px-2 py-1 rounded-md border border-green-100",children:y.ctc}),e.jsxs("span",{className:"text-xs font-semibold bg-slate-50 text-slate-600 px-2 py-1 rounded-md border border-slate-100",children:["Min CGPA: ",y.minCgpa]})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400 font-bold uppercase tracking-wider mb-4",children:[e.jsx("span",{children:"Deadline"}),e.jsx("span",{children:y.deadline})]}),g(y.id)?e.jsxs("button",{disabled:!0,className:"w-full bg-green-50 text-green-600 border border-green-100 py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 cursor-default",children:[e.jsx(ge,{size:16})," Applied"]}):e.jsx("button",{onClick:()=>T(y),disabled:!l.isVerified,className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold text-sm hover:bg-slate-800 transition shadow-lg shadow-slate-200 active:scale-95 disabled:opacity-50 disabled:active:scale-100",children:"Apply Now"})]},y.id))}),m==="applications"&&e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden animate-in fade-in slide-in-from-bottom-4",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5",children:"Role & Company"}),e.jsx("th",{className:"p-5",children:"Applied Date"}),e.jsx("th",{className:"p-5",children:"Current Status"}),e.jsx("th",{className:"p-5 text-right",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-10 text-center text-slate-400 font-medium",children:"No applications found."})}):r.map(y=>{const N=d.getDrive(y.driveId),h=N?d.getCompany(N.companyId):void 0;return e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900",children:(N==null?void 0:N.role)||"Unknown Role"}),e.jsxs("div",{className:"text-xs text-slate-500 font-medium mt-0.5 flex items-center gap-1",children:[e.jsx(ce,{size:12})," ",(h==null?void 0:h.name)||"Unknown Company"]})]}),e.jsx("td",{className:"p-5 text-sm text-slate-500 font-medium",children:y.appliedAt}),e.jsx("td",{className:"p-5",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold border ${y.status===W.SELECTED?"bg-green-100 text-green-700 border-green-200":y.status===W.REJECTED?"bg-red-50 text-red-600 border-red-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:y.status})}),e.jsx("td",{className:"p-5 text-right",children:e.jsxs("button",{onClick:()=>S(y),className:"flex items-center gap-2 text-xs font-bold text-blue-600 hover:text-blue-800 transition ml-auto",children:[e.jsx(Se,{size:14})," View Progress"]})})]},y.id)})})]})}),j&&(()=>{const y=d.getDrive(j.driveId),N=y?d.getCompany(y.companyId):void 0;return!y||!N?null:e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-50 rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Application Progress"}),e.jsx("button",{onClick:()=>S(null),className:"text-slate-400 hover:text-slate-700 transition",children:"âœ•"})]}),e.jsx(tt,{application:j,drive:y,company:N})]})})})()]}):e.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading student profile from database..."})},at=({student:s,onClose:t})=>{const l=d.getApplications().filter(i=>i.studentId===s.id),x=d.getDrives(),n=d.getCompanies(),c=()=>{s.resumeUrl&&window.open(s.resumeUrl,"_blank")},r=()=>{if(s.resumeUrl){const i=document.createElement("a");i.href=s.resumeUrl,i.download=s.resumeFileName||`${s.name}_Resume.pdf`,document.body.appendChild(i),i.click(),document.body.removeChild(i)}};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full my-8 transform transition-all",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-900 to-slate-700 p-6 rounded-t-2xl text-white",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-1",children:s.name}),e.jsx("p",{className:"text-slate-300 text-sm font-medium",children:s.rollNo})]}),e.jsx("button",{onClick:t,className:"text-white/80 hover:text-white transition p-2 hover:bg-white/10 rounded-lg",children:e.jsx(X,{size:24})})]})}),e.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.isVerified?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100",children:[e.jsx(H,{size:14})," Verified"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-yellow-50 text-yellow-600 border border-yellow-100",children:[e.jsx(de,{size:14})," Pending Verification"]}),s.isBlacklisted&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-red-50 text-red-600 border border-red-100",children:[e.jsx(de,{size:14})," Blacklisted"]}),s.placedCompanyId&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-blue-50 text-blue-600 border border-blue-100",children:[e.jsx(H,{size:14})," Placed"]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Academic Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ds,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Course & Branch"}),e.jsxs("p",{className:"text-sm font-bold text-slate-900",children:[s.course," - ",s.branch]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(se,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Year"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:s.year})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qe,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"CGPA"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:(s.cgpa||0).toFixed(2)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(de,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Backlogs"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:s.backlogs||0})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Contact Information"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fe,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Email"}),e.jsx("p",{className:"text-sm font-bold text-slate-900 break-all",children:s.email})]})]})})]})]}),s.skills&&s.skills.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((i,m)=>e.jsx("span",{className:"px-3 py-1.5 bg-slate-100 text-slate-700 rounded-lg text-xs font-medium",children:i},m))})]}),s.certifications&&s.certifications.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Certifications"}),e.jsx("div",{className:"space-y-2",children:s.certifications.map((i,m)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[e.jsx(Qe,{size:14,className:"text-slate-400"}),e.jsx("span",{children:i})]},m))})]}),s.resumeUrl&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Resume"}),e.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-white rounded-lg border border-slate-200",children:e.jsx(ue,{size:24,className:"text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 text-sm",children:s.resumeFileName||"Resume.pdf"}),s.resumeUploadedAt&&e.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded: ",new Date(s.resumeUploadedAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg text-xs font-bold hover:bg-slate-800 transition",children:[e.jsx(Ps,{size:14})," View"]}),e.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg text-xs font-bold hover:bg-slate-50 transition",children:[e.jsx(Ee,{size:14})," Download"]})]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Application History"}),l.length===0?e.jsx("p",{className:"text-sm text-slate-500 italic",children:"No applications yet"}):e.jsx("div",{className:"space-y-2",children:l.map(i=>{const m=x.find(j=>j.id===i.driveId),f=n.find(j=>j.id===(m==null?void 0:m.companyId));return e.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900",children:(f==null?void 0:f.name)||"Unknown Company"}),e.jsx("p",{className:"text-sm text-slate-600",children:(m==null?void 0:m.role)||"N/A"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Applied: ",new Date(i.appliedAt).toLocaleDateString()]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${i.status==="Selected"?"bg-green-100 text-green-700":i.status==="Rejected"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:i.status})]})},i.id)})})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-200 bg-slate-50 rounded-b-2xl",children:e.jsx("button",{onClick:t,className:"w-full px-6 py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition",children:"Close"})})]})})},rt=({company:s,onClose:t})=>{const l=d.getDrives().filter(r=>r.companyId===s.id),x=d.getApplications(),n=x.filter(r=>l.some(i=>i.id===r.driveId)),c=d.getStudents();return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full my-8 transform transition-all",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-blue-700 p-6 rounded-t-2xl text-white",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:e.jsx(ce,{size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-1",children:s.name}),e.jsx("p",{className:"text-blue-200 text-sm font-medium",children:"Company Profile"})]})]}),e.jsx("button",{onClick:t,className:"text-white/80 hover:text-white transition p-2 hover:bg-white/10 rounded-lg",children:e.jsx(X,{size:24})})]})}),e.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:s.isApproved?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100",children:[e.jsx(H,{size:14})," Approved"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-yellow-50 text-yellow-600 border border-yellow-100",children:[e.jsx(de,{size:14})," Pending Approval"]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Company Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ce,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Company Name"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:s.name})]})]}),s.description&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ie,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Description"}),e.jsx("p",{className:"text-sm text-slate-700",children:s.description})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"HR Contact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ke,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"HR Name"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:s.hrName})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fe,{size:18,className:"text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"HR Email"}),e.jsx("p",{className:"text-sm font-bold text-slate-900 break-all",children:s.hrEmail})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.length}),e.jsx("p",{className:"text-xs text-blue-700 font-medium mt-1",children:"Total Drives"})]}),e.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.length}),e.jsx("p",{className:"text-xs text-green-700 font-medium mt-1",children:"Applications"})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-100 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.filter(r=>r.status==="Selected").length}),e.jsx("p",{className:"text-xs text-purple-700 font-medium mt-1",children:"Selected"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Placement Drives"}),l.length===0?e.jsx("p",{className:"text-sm text-slate-500 italic",children:"No drives created yet"}):e.jsx("div",{className:"space-y-3",children:l.map(r=>{const i=x.filter(m=>m.driveId===r.id);return e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 text-lg",children:r.role}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:r.description})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${r.status==="Open"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:r.status})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cs,{size:16,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"CTC"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:r.ctc})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{size:16,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Deadline"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:r.deadline})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xs,{size:16,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Applications"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:i.length})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{size:16,className:"text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Min CGPA"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:r.minCgpa})]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Eligible Branches:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:r.eligibleBranches.map((m,f)=>e.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 rounded text-xs font-medium text-slate-700",children:m},f))})]}),r.rounds&&r.rounds.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Selection Rounds:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:r.rounds.map((m,f)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 border border-blue-100 rounded text-xs font-medium text-blue-700",children:m},f))})]})]},r.id)})})]}),n.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Recent Applications"}),e.jsxs("div",{className:"space-y-2",children:[n.slice(0,5).map(r=>{const i=c.find(f=>f.id===r.studentId),m=l.find(f=>f.id===r.driveId);return e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 text-sm",children:(i==null?void 0:i.name)||"Unknown"}),e.jsxs("p",{className:"text-xs text-slate-500",children:[m==null?void 0:m.role," â€¢ Applied: ",new Date(r.appliedAt).toLocaleDateString()]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${r.status==="Selected"?"bg-green-100 text-green-700":r.status==="Rejected"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:r.status})]},r.id)}),n.length>5&&e.jsxs("p",{className:"text-xs text-slate-500 text-center italic",children:["+",n.length-5," more applications"]})]})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-200 bg-slate-50 rounded-b-2xl",children:e.jsx("button",{onClick:t,className:"w-full px-6 py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition",children:"Close"})})]})})},nt=({notices:s,events:t,onUpdate:l})=>{const[x,n]=o.useState(!1),[c,r]=o.useState(!1),[i,m]=o.useState(null),[f,j]=o.useState(null),[S,E]=o.useState({title:"",description:"",isActive:!0}),[k,M]=o.useState({title:"",description:"",date:"",isActive:!0}),V=g=>{g.preventDefault();const y={id:(i==null?void 0:i.id)||`notice_${Date.now()}`,title:S.title,description:S.description,postedAt:(i==null?void 0:i.postedAt)||new Date().toISOString(),postedBy:"Admin",isActive:S.isActive};d.saveNotice(y),n(!1),E({title:"",description:"",isActive:!0}),m(null),l()},F=g=>{g.preventDefault();const y=new Date(k.date),N={id:(f==null?void 0:f.id)||`event_${Date.now()}`,title:k.title,description:k.description,date:k.date,month:y.toLocaleDateString("en-US",{month:"short"}),day:y.getDate().toString().padStart(2,"0"),postedAt:(f==null?void 0:f.postedAt)||new Date().toISOString(),postedBy:"Admin",isActive:k.isActive};d.saveEvent(N),r(!1),M({title:"",description:"",date:"",isActive:!0}),j(null),l()},w=g=>{g?(m(g),E({title:g.title,description:g.description,isActive:g.isActive})):(m(null),E({title:"",description:"",isActive:!0})),n(!0)},T=g=>{g?(j(g),M({title:g.title,description:g.description,date:g.date,isActive:g.isActive})):(j(null),M({title:"",description:"",date:"",isActive:!0})),r(!0)};return e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-rose-50 rounded-xl flex items-center justify-center text-rose-600",children:e.jsx(rs,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Notices"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Manage placement notices"})]})]}),e.jsxs("button",{onClick:()=>w(),className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-slate-800 transition",children:[e.jsx(Ce,{size:16})," Add Notice"]})]}),e.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:s.length===0?e.jsx("p",{className:"text-center text-slate-400 py-8 italic",children:"No notices posted yet"}):s.map(g=>e.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 hover:border-slate-300 transition",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:g.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${g.isActive?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:g.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>w(g),className:"p-1.5 hover:bg-slate-100 rounded transition",title:"Edit",children:e.jsx(Xe,{size:14,className:"text-slate-600"})}),e.jsx("button",{onClick:()=>{confirm("Delete this notice?")&&(d.deleteNotice(g.id),l())},className:"p-1.5 hover:bg-red-50 rounded transition",title:"Delete",children:e.jsx(me,{size:14,className:"text-red-600"})})]})]}),e.jsx("p",{className:"text-xs text-slate-600 mb-2",children:g.description}),e.jsxs("p",{className:"text-[10px] text-slate-400",children:["Posted: ",new Date(g.postedAt).toLocaleDateString()]})]},g.id))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center text-blue-600",children:e.jsx(se,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Events"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Manage upcoming events"})]})]}),e.jsxs("button",{onClick:()=>T(),className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-slate-800 transition",children:[e.jsx(Ce,{size:16})," Add Event"]})]}),e.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:t.length===0?e.jsx("p",{className:"text-center text-slate-400 py-8 italic",children:"No events scheduled yet"}):t.map(g=>e.jsx("div",{className:"border border-slate-200 rounded-xl p-4 hover:border-slate-300 transition",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 min-w-[50px] text-center border border-slate-100",children:[e.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:g.month}),e.jsx("span",{className:"block text-lg font-bold text-slate-900",children:g.day})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:g.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${g.isActive?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:g.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>T(g),className:"p-1.5 hover:bg-slate-100 rounded transition",title:"Edit",children:e.jsx(Xe,{size:14,className:"text-slate-600"})}),e.jsx("button",{onClick:()=>{confirm("Delete this event?")&&(d.deleteEvent(g.id),l())},className:"p-1.5 hover:bg-red-50 rounded transition",title:"Delete",children:e.jsx(me,{size:14,className:"text-red-600"})})]})]}),e.jsx("p",{className:"text-xs text-slate-600 mb-1",children:g.description}),e.jsxs("p",{className:"text-[10px] text-slate-400",children:["Date: ",new Date(g.date).toLocaleDateString()]})]})]})},g.id))})]})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:i?"Edit Notice":"Add Notice"}),e.jsx("button",{onClick:()=>n(!1),className:"text-slate-400 hover:text-slate-700",children:e.jsx(X,{size:24})})]}),e.jsxs("form",{onSubmit:V,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Title"}),e.jsx("input",{required:!0,type:"text",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none",value:S.title,onChange:g=>E({...S,title:g.target.value}),placeholder:"e.g., Placement Drive 2025"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Description"}),e.jsx("textarea",{required:!0,className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none h-24",value:S.description,onChange:g=>E({...S,description:g.target.value}),placeholder:"Enter notice details..."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"noticeActive",checked:S.isActive,onChange:g=>E({...S,isActive:g.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"noticeActive",className:"text-sm font-medium text-slate-700",children:"Show on landing page"})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition",children:i?"Update Notice":"Create Notice"})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:f?"Edit Event":"Add Event"}),e.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-700",children:e.jsx(X,{size:24})})]}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Event Title"}),e.jsx("input",{required:!0,type:"text",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none",value:k.title,onChange:g=>M({...k,title:g.target.value}),placeholder:"e.g., Registration Opens"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Description"}),e.jsx("input",{required:!0,type:"text",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none",value:k.description,onChange:g=>M({...k,description:g.target.value}),placeholder:"e.g., Batch 2025 (M.Sc & B.Tech)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Event Date"}),e.jsx("input",{required:!0,type:"date",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none",value:k.date,onChange:g=>M({...k,date:g.target.value})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"eventActive",checked:k.isActive,onChange:g=>M({...k,isActive:g.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"eventActive",className:"text-sm font-medium text-slate-700",children:"Show on landing page"})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition",children:f?"Update Event":"Create Event"})]})]})})]})},it=({application:s,student:t,drive:l,company:x,onUpdate:n,onClose:c})=>{var T,g,y;const[r,i]=o.useState(s.currentRound),[m,f]=o.useState(((T=s.roundStatuses[r])==null?void 0:T.status)||"Pending"),[j,S]=o.useState(((g=s.roundStatuses[r])==null?void 0:g.scheduledDate)||""),[E,k]=o.useState(((y=s.roundStatuses[r])==null?void 0:y.feedback)||""),[M,V]=o.useState(s.feedback||""),F=()=>{const N=[...s.roundStatuses],h=N[r];N[r]={...h,status:m,scheduledDate:j||void 0,completedDate:m==="Cleared"||m==="Rejected"?new Date().toISOString():void 0,feedback:E||void 0,updatedBy:"Admin",updatedAt:new Date().toISOString()};let b=s.status,D=s.currentRound;m==="Cleared"?r<s.roundStatuses.length-1?(D=r+1,b="Shortlisted"):b="Selected":m==="Rejected"&&(b="Rejected");const U={...s,roundStatuses:N,currentRound:D,status:b,lastUpdated:new Date().toISOString(),feedback:M||void 0};d.updateApplication(U),n(),alert("Application status updated successfully!")},w=s.roundStatuses[r];return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 rounded-t-2xl",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Manage Application"}),e.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[t.name," (",t.rollNo,") - ",l.role," at ",x.name]})]}),e.jsx("button",{onClick:c,className:"text-slate-400 hover:text-slate-700 transition",children:e.jsx(X,{size:24})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"CGPA:"}),e.jsx("span",{className:"ml-2 font-bold text-slate-900",children:t.cgpa})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Branch:"}),e.jsx("span",{className:"ml-2 font-bold text-slate-900",children:t.branch})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Applied:"}),e.jsx("span",{className:"ml-2 font-bold text-slate-900",children:new Date(s.appliedAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Select Round to Update"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.roundStatuses.map((N,h)=>e.jsxs("button",{onClick:()=>{i(h),f(N.status),S(N.scheduledDate||""),k(N.feedback||"")},className:`p-4 rounded-xl border-2 text-left transition-all ${r===h?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-bold text-slate-900",children:[h+1,". ",N.roundName]}),N.status==="Cleared"&&e.jsx(H,{size:16,className:"text-green-500"}),N.status==="Rejected"&&e.jsx(de,{size:16,className:"text-red-500"}),N.status==="Scheduled"&&e.jsx(se,{size:16,className:"text-blue-500"}),N.status==="Pending"&&e.jsx(os,{size:16,className:"text-slate-400"})]}),e.jsx("span",{className:`text-xs font-semibold ${N.status==="Cleared"?"text-green-600":N.status==="Rejected"?"text-red-600":N.status==="Scheduled"?"text-blue-600":"text-slate-500"}`,children:N.status})]},h))})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-3",children:["Updating: ",w.roundName]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Round Status"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["Pending","Scheduled","Cleared","Rejected"].map(N=>e.jsx("button",{onClick:()=>f(N),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${m===N?N==="Cleared"?"bg-green-500 text-white":N==="Rejected"?"bg-red-500 text-white":N==="Scheduled"?"bg-blue-500 text-white":"bg-slate-700 text-white":"bg-white border border-slate-300 text-slate-700 hover:border-slate-400"}`,children:N},N))})]}),(m==="Scheduled"||m==="Pending")&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[e.jsx(se,{size:16,className:"inline mr-2"}),"Schedule Date & Time"]}),e.jsx("input",{type:"datetime-local",value:j?new Date(j).toISOString().slice(0,16):"",onChange:N=>S(N.target.value?new Date(N.target.value).toISOString():""),className:"w-full border border-slate-300 p-3 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[e.jsx(is,{size:16,className:"inline mr-2"}),"Feedback for this Round"]}),e.jsx("textarea",{value:E,onChange:N=>k(N.target.value),placeholder:"Add feedback for the candidate...",className:"w-full border border-slate-300 p-3 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 outline-none h-24 resize-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Overall Application Feedback"}),e.jsx("textarea",{value:M,onChange:N=>V(N.target.value),placeholder:"Add overall feedback for the entire application...",className:"w-full border border-slate-300 p-3 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 outline-none h-20 resize-none"})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[e.jsxs("button",{onClick:F,className:"flex-1 bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition flex items-center justify-center gap-2",children:[e.jsx(Us,{size:20}),"Update Application Status"]}),e.jsx("button",{onClick:c,className:"px-6 py-3 border border-slate-300 rounded-xl font-bold text-slate-700 hover:bg-slate-50 transition",children:"Cancel"})]})]})]})})},Ae={generate:()=>{const s=Math.floor(1e3+Math.random()*9e3),t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",l=t.charAt(Math.floor(Math.random()*t.length)),x=t.charAt(Math.floor(Math.random()*t.length));return`NFSU${s}${l}${x}`},generateBatch:s=>{const t=new Set;for(;t.size<s;)t.add(Ae.generate());return Array.from(t)},isStrong:s=>s.length>=8&&/[A-Z]/.test(s)&&/[a-z]/.test(s)&&/[0-9]/.test(s)},ot=({onClose:s,onImportComplete:t})=>{const[l,x]=o.useState(1),[n,c]=o.useState(null),[r,i]=o.useState([]),[m,f]=o.useState([]),[j,S]=o.useState([]),[E,k]=o.useState(!0),[M,V]=o.useState(!1),[F,w]=o.useState(!1),T=[{value:"name",label:"Name *"},{value:"email",label:"Email *"},{value:"rollNo",label:"Roll Number *"},{value:"course",label:"Course *"},{value:"branch",label:"Branch *"},{value:"year",label:"Year *"},{value:"cgpa",label:"CGPA *"},{value:"backlogs",label:"Backlogs"},{value:"phone",label:"Phone"},{value:"dateOfBirth",label:"Date of Birth"},{value:"gender",label:"Gender"},{value:"address",label:"Address"},{value:"city",label:"City"},{value:"state",label:"State"},{value:"pincode",label:"Pincode"},{value:"tenthMarks",label:"10th Marks"},{value:"twelfthMarks",label:"12th Marks"},{value:"diplomaMarks",label:"Diploma Marks"},{value:"graduationMarks",label:"Graduation Marks"},{value:"skills",label:"Skills (comma-separated)"},{value:"certifications",label:"Certifications (comma-separated)"},{value:"languages",label:"Languages (comma-separated)"},{value:"projects",label:"Projects (comma-separated)"},{value:"internships",label:"Internships (comma-separated)"},{value:"achievements",label:"Achievements (comma-separated)"},{value:"linkedinUrl",label:"LinkedIn URL"},{value:"githubUrl",label:"GitHub URL"},{value:"portfolioUrl",label:"Portfolio URL"},{value:"ignore",label:"-- Ignore this column --"},{value:"custom",label:"-- Store as Custom Field --"}],g=b=>{var u;const D=(u=b.target.files)==null?void 0:u[0];if(!D)return;c(D);const U=new FileReader;U.onload=v=>{var P;const z=(P=v.target)==null?void 0:P.result;y(z)},U.readAsText(D)},y=b=>{const D=b.replace(/^\uFEFF/,""),U=O=>{const C=[];let A="",q=!1;for(let G=0;G<O.length;G++){const I=O[G];I==='"'?q=!q:I===","&&!q?(C.push(A.trim()),A=""):A+=I}return C.push(A.trim()),C.map(G=>G.replace(/^"|"$/g,"").trim())},u=D.split(/\r?\n/).filter(O=>O.trim());if(u.length===0)return;const v=U(u[0]);i(v);const z=[];for(let O=1;O<u.length;O++){const C=U(u[O]);if(C.length===0)continue;const A={};v.forEach((q,G)=>{A[q]=C[G]||""}),Object.values(A).some(q=>q.trim()!=="")&&z.push(A)}f(z);const P=v.map(O=>{const C=O.toLowerCase();let A="ignore";return C.includes("name")&&!C.includes("company")?A="name":C.includes("email")?A="email":C.includes("roll")?A="rollNo":C.includes("course")?A="course":C.includes("branch")||C.includes("department")?A="branch":C.includes("year")?A="year":C.includes("cgpa")||C.includes("gpa")?A="cgpa":C.includes("backlog")?A="backlogs":C.includes("phone")||C.includes("mobile")?A="phone":C.includes("dob")||C.includes("birth")?A="dateOfBirth":C.includes("gender")||C.includes("sex")?A="gender":C.includes("address")?A="address":C.includes("city")?A="city":C.includes("state")?A="state":C.includes("pin")?A="pincode":C.includes("10th")||C.includes("tenth")?A="tenthMarks":C.includes("12th")||C.includes("twelfth")?A="twelfthMarks":C.includes("skill")?A="skills":C.includes("certif")?A="certifications":C.includes("language")?A="languages":C.includes("project")?A="projects":C.includes("intern")?A="internships":C.includes("achieve")?A="achievements":C.includes("linkedin")?A="linkedinUrl":C.includes("github")?A="githubUrl":C.includes("portfolio")?A="portfolioUrl":A="custom",{csvColumn:O,studentField:A}});S(P),x(2)},N=(b,D)=>{S(U=>U.map(u=>u.csvColumn===b?{...u,studentField:D}:u))},h=()=>{w(!0);try{const b=[],D=[];if(m.forEach((U,u)=>{const v={id:`s${Date.now()}_${u}`,password:E?Ae.generate():"nfsu_123",isVerified:M,isBlacklisted:!1,skills:[],certifications:[],customFields:{},course:"",year:new Date().getFullYear(),backlogs:0};j.forEach(z=>{var O;const P=(O=U[z.csvColumn])==null?void 0:O.toString().trim();!P||z.studentField==="ignore"||(z.studentField==="custom"?v.customFields[z.csvColumn]=P:["skills","certifications","languages","projects","internships","achievements"].includes(z.studentField)?v[z.studentField]=P.split(/[;,]/).map(C=>C.trim()).filter(C=>C):["year","backlogs","tenthMarks","twelfthMarks","diplomaMarks","graduationMarks"].includes(z.studentField)?v[z.studentField]=parseFloat(P.replace(/[^0-9.]/g,""))||0:z.studentField==="cgpa"?v[z.studentField]=parseFloat(P.replace(/[^0-9.]/g,""))||0:v[z.studentField]=P)}),v.name&&v.email&&v.rollNo?(v.branch||(v.branch="General"),v.course||(v.course="M.Sc"),b.push(v)):Object.values(U).some(P=>P&&P.toString().trim()!=="")&&D.push(u+1)}),b.length===0){alert("No valid students found. Please verify that Name, Email, and Roll Number columns are correctly mapped and contain data."),w(!1);return}if(D.length>0&&!window.confirm(`${D.length} row(s) were skipped because they missed critical information (Name, Email, or Roll Number). 

Import the remaining ${b.length} student(s)?`)){w(!1);return}d.bulkAddStudents(b),w(!1),x(3)}catch(b){console.error("Import error:",b),alert("Error during import process. Please check your data format."),w(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 rounded-t-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Smart CSV Import Wizard"}),e.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Step ",l," of 3: ",l===1?"Upload File":l===2?"Map Columns":"Complete"]})]}),e.jsx("button",{onClick:s,className:"text-slate-400 hover:text-slate-700 transition",children:e.jsx(X,{size:24})})]}),e.jsx("div",{className:"mt-4 flex gap-2",children:[1,2,3].map(b=>e.jsx("div",{className:`flex-1 h-1.5 rounded-full transition-all ${b<=l?"bg-blue-500":"bg-slate-200"}`},b))})]}),e.jsxs("div",{className:"p-6",children:[l===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-12",children:[e.jsx(De,{className:"mx-auto text-slate-300 mb-4",size:64}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Upload CSV or Excel File"}),e.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Import student data from any CSV file, including Google Forms exports"}),e.jsxs("label",{className:"inline-block px-6 py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition cursor-pointer",children:[e.jsx("input",{type:"file",accept:".csv",onChange:g,className:"hidden"}),"Choose CSV File"]}),n&&e.jsxs("div",{className:"mt-4 text-sm text-green-600 font-semibold",children:["âœ“ ",n.name," (",m.length," rows detected)"]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(oe,{size:16}),"CSV Format Tips"]}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 ml-6 list-disc",children:[e.jsx("li",{children:"First row should contain column headers"}),e.jsxs("li",{children:[e.jsx("strong",{children:"Required fields:"})," Name, Email, Roll Number (only these 3!)"]}),e.jsx("li",{children:"Optional fields will use defaults: Course (M.Sc), Year (current), CGPA (0), Branch (General)"}),e.jsx("li",{children:"Use comma-separated values for skills, certifications, etc."}),e.jsx("li",{children:"Extra columns will be stored automatically in custom fields"})]})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Sample CSV Format:"}),e.jsx("pre",{className:"text-xs text-slate-600 overflow-x-auto",children:`Name,Email,Roll No,Course,Branch,Year,CGPA,Phone,Skills
Rajesh Kumar,rajesh@nfsu.ac.in,NFSU201,M.Sc,Forensic Science,2,8.5,9876543210,"Python,Java,React"
Anita Desai,anita@nfsu.ac.in,NFSU202,B.Tech,Cyber Security,3,9.0,9876543211,"JavaScript,SQL,AWS"`})]})]}),l===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-2",children:"Map Your Columns"}),e.jsxs("p",{className:"text-sm text-slate-600",children:["We've auto-detected ",r.length," columns and suggested mappings. Review and adjust as needed."]})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:j.map((b,D)=>{var U;return e.jsxs("div",{className:"flex items-center gap-4 bg-white border border-slate-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-bold text-slate-900",children:b.csvColumn}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Sample: ",((U=m[0])==null?void 0:U[b.csvColumn])||"N/A"]})]}),e.jsx(ns,{size:20,className:"text-slate-400"}),e.jsx("div",{className:"flex-1",children:e.jsx("select",{value:b.studentField,onChange:u=>N(b.csvColumn,u.target.value),className:"w-full border border-slate-300 rounded-lg p-2 text-sm font-semibold",children:T.map(u=>e.jsx("option",{value:u.value,children:u.label},u.value))})})]},D)})}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4 space-y-3",children:[e.jsx("h4",{className:"font-bold text-slate-900",children:"Import Options"}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:b=>k(b.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-slate-700",children:"Auto-generate secure passwords"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:M,onChange:b=>V(b.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-slate-700",children:"Mark all students as verified"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>x(1),className:"px-6 py-3 border border-slate-300 rounded-xl font-bold text-slate-700 hover:bg-slate-50 transition",children:"Back"}),e.jsx("button",{onClick:h,disabled:F,className:"flex-1 bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition disabled:opacity-50",children:F?"Importing...":`Import ${m.length} Students`})]})]}),l===3&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(H,{className:"mx-auto text-green-500 mb-4",size:64}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Import Successful!"}),e.jsxs("p",{className:"text-slate-600 mb-6",children:[m.length," students have been imported successfully"]}),e.jsx("button",{onClick:()=>{t(),s()},className:"px-6 py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition",children:"Done"})]})]})]})})},dt=({students:s,onClose:t})=>{const l=[{key:"name",label:"Name",category:"Core",selected:!0},{key:"email",label:"Email",category:"Core",selected:!0},{key:"rollNo",label:"Roll Number",category:"Core",selected:!0},{key:"phone",label:"Phone",category:"Core",selected:!1},{key:"dateOfBirth",label:"Date of Birth",category:"Core",selected:!1},{key:"gender",label:"Gender",category:"Core",selected:!1},{key:"course",label:"Course",category:"Academic",selected:!0},{key:"branch",label:"Branch",category:"Academic",selected:!0},{key:"year",label:"Year",category:"Academic",selected:!0},{key:"cgpa",label:"CGPA",category:"Academic",selected:!0},{key:"backlogs",label:"Backlogs",category:"Academic",selected:!0},{key:"tenthMarks",label:"10th Marks",category:"Academic",selected:!1},{key:"twelfthMarks",label:"12th Marks",category:"Academic",selected:!1},{key:"diplomaMarks",label:"Diploma Marks",category:"Academic",selected:!1},{key:"graduationMarks",label:"Graduation Marks",category:"Academic",selected:!1},{key:"address",label:"Address",category:"Contact",selected:!1},{key:"city",label:"City",category:"Contact",selected:!1},{key:"state",label:"State",category:"Contact",selected:!1},{key:"pincode",label:"Pincode",category:"Contact",selected:!1},{key:"skills",label:"Skills",category:"Professional",selected:!1},{key:"certifications",label:"Certifications",category:"Professional",selected:!1},{key:"languages",label:"Languages",category:"Professional",selected:!1},{key:"projects",label:"Projects",category:"Professional",selected:!1},{key:"internships",label:"Internships",category:"Professional",selected:!1},{key:"achievements",label:"Achievements",category:"Professional",selected:!1},{key:"linkedinUrl",label:"LinkedIn URL",category:"Links",selected:!1},{key:"githubUrl",label:"GitHub URL",category:"Links",selected:!1},{key:"portfolioUrl",label:"Portfolio URL",category:"Links",selected:!1},{key:"resumeUrl",label:"Resume URL",category:"Links",selected:!1},{key:"isVerified",label:"Verified Status",category:"Status",selected:!1},{key:"placedCompanyId",label:"Placed Company",category:"Status",selected:!1}],[x,n]=o.useState(l),[c,r]=o.useState("excel"),[i,m]=o.useState("all"),[f,j]=o.useState("0"),[S,E]=o.useState("10"),[k,M]=o.useState(!1),[V,F]=o.useState(!1),w=u=>{n(v=>v.map(z=>z.key===u?{...z,selected:!z.selected}:z))},T=u=>{const z=x.filter(P=>P.category===u).every(P=>P.selected);n(P=>P.map(O=>O.category===u?{...O,selected:!z}:O))},g=()=>{n(u=>u.map(v=>({...v,selected:!0})))},y=()=>{n(u=>u.map(v=>({...v,selected:!1})))},N=s.filter(u=>!(i!=="all"&&u.branch!==i||u.cgpa<parseFloat(f)||u.backlogs>parseInt(S)||k&&!u.isVerified||V&&!u.placedCompanyId)),h=()=>{const u=x.filter(v=>v.selected);if(u.length===0){alert("Please select at least one column to export");return}c==="csv"?b(N,u):D(N,u)},b=(u,v)=>{const z=v.map(G=>G.label).join(","),P=u.map(G=>v.map(I=>{const L=G[I.key];return Array.isArray(L)?`"${L.join(", ")}"`:typeof L=="boolean"?L?"Yes":"No":typeof L=="string"&&L.includes(",")?`"${L}"`:L||""}).join(",")),O=[z,...P].join(`
`),C=new Blob([O],{type:"text/csv"}),A=window.URL.createObjectURL(C),q=document.createElement("a");q.href=A,q.download=`students_export_${new Date().toISOString().split("T")[0]}.csv`,q.click(),window.URL.revokeObjectURL(A)},D=(u,v)=>{const z=v.map(G=>`<th style="background: #1e293b; color: white; padding: 12px; font-weight: bold; border: 1px solid #cbd5e1;">${G.label}</th>`).join(""),P=u.map(G=>`<tr>${v.map(L=>{const _=G[L.key];return Array.isArray(_)?`<td style="padding: 8px; border: 1px solid #cbd5e1;">${_.join(", ")}</td>`:typeof _=="boolean"?`<td style="padding: 8px; border: 1px solid #cbd5e1;">${_?"Yes":"No"}</td>`:`<td style="padding: 8px; border: 1px solid #cbd5e1;">${_||""}</td>`}).join("")}</tr>`).join(""),O=`
            <html>
                <head>
                    <meta charset="utf-8">
                    <style>
                        table { border-collapse: collapse; width: 100%; font-family: Arial, sans-serif; }
                        th, td { text-align: left; }
                    </style>
                </head>
                <body>
                    <h2>Student Database Export</h2>
                    <p>Generated on: ${new Date().toLocaleString()}</p>
                    <p>Total Students: ${u.length}</p>
                    <table>
                        <thead><tr>${z}</tr></thead>
                        <tbody>${P}</tbody>
                    </table>
                </body>
            </html>
        `,C=new Blob([O],{type:"application/vnd.ms-excel"}),A=window.URL.createObjectURL(C),q=document.createElement("a");q.href=A,q.download=`students_export_${new Date().toISOString().split("T")[0]}.xls`,q.click(),window.URL.revokeObjectURL(A)},U=Array.from(new Set(x.map(u=>u.category)));return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 rounded-t-2xl",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Export Student Database"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Select columns and apply filters to export student data"})]}),e.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-700 transition",children:e.jsx(X,{size:24})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ze,{size:20,className:"text-slate-600"}),e.jsx("h3",{className:"font-bold text-slate-900",children:"Filters"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-2",children:"Branch"}),e.jsxs("select",{value:i,onChange:u=>m(u.target.value),className:"w-full border border-slate-300 rounded-lg p-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Branches"}),ee.map(u=>e.jsx("option",{value:u,children:u},u))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-2",children:"Min CGPA"}),e.jsx("input",{type:"number",step:"0.1",value:f,onChange:u=>j(u.target.value),className:"w-full border border-slate-300 rounded-lg p-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-2",children:"Max Backlogs"}),e.jsx("input",{type:"number",value:S,onChange:u=>E(u.target.value),className:"w-full border border-slate-300 rounded-lg p-2 text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k,onChange:u=>M(u.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-xs text-slate-700",children:"Verified Only"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V,onChange:u=>F(u.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-xs text-slate-700",children:"Placed Only"})]})]})]}),e.jsxs("div",{className:"mt-4 text-sm font-semibold text-slate-700",children:["Filtered Results: ",e.jsx("span",{className:"text-blue-600",children:N.length})," students"]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold text-slate-900",children:"Select Columns to Export"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:g,className:"px-3 py-1 text-xs font-bold text-blue-600 hover:bg-blue-50 rounded-lg transition",children:"Select All"}),e.jsx("button",{onClick:y,className:"px-3 py-1 text-xs font-bold text-slate-600 hover:bg-slate-50 rounded-lg transition",children:"Deselect All"})]})]}),e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:U.map(u=>{const v=x.filter(P=>P.category===u),z=v.filter(P=>P.selected).length;return e.jsxs("div",{className:"border border-slate-200 rounded-lg p-3",children:[e.jsxs("button",{onClick:()=>T(u),className:"flex items-center justify-between w-full mb-2",children:[e.jsx("span",{className:"font-bold text-slate-900",children:u}),e.jsxs("span",{className:"text-xs text-slate-500",children:[z,"/",v.length," selected"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:v.map(P=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 p-2 rounded transition",children:[e.jsx("input",{type:"checkbox",checked:P.selected,onChange:()=>w(P.key),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-slate-700",children:P.label})]},P.key))})]},u)})})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-3",children:"Export Format"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",value:"excel",checked:c==="excel",onChange:u=>r(u.target.value),className:"w-4 h-4"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{size:20,className:"text-green-600"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Excel (.xls)"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",value:"csv",checked:c==="csv",onChange:u=>r(u.target.value),className:"w-4 h-4"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{size:20,className:"text-blue-600"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"CSV (.csv)"})]})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:t,className:"px-6 py-3 border border-slate-300 rounded-xl font-bold text-slate-700 hover:bg-slate-50 transition",children:"Cancel"}),e.jsxs("button",{onClick:h,className:"flex-1 bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition flex items-center justify-center gap-2",children:[e.jsx(Ee,{size:20}),"Export ",N.length," Students as ",c.toUpperCase()]})]})]})]})})},ls=()=>{const[s,t]=o.useState(d.getStudents()),[l,x]=o.useState(d.getCompanies()),n=d.getApplications(),c=d.getDrives(),[r,i]=o.useState("students"),[m,f]=o.useState(null),[j,S]=o.useState(d.getNotices()),[E,k]=o.useState(d.getEvents()),[M,V]=o.useState(!1),[F,w]=o.useState(!1),[T,g]=o.useState(null),[y,N]=o.useState(null),[h,b]=o.useState(!1),[D,U]=o.useState({name:"",email:"",password:"password123",rollNo:"",course:"M.Sc",branch:ee[0],year:2024,cgpa:0,backlogs:0}),[u,v]=o.useState(""),[z,P]=o.useState(!1),[O,C]=o.useState(""),[A,q]=o.useState(""),[G,I]=o.useState(null),[L,_]=o.useState(null),[je,xe]=o.useState(!1),[us,Oe]=o.useState(!1),[J,Z]=o.useState(new Set);o.useEffect(()=>{Z(new Set)},[r]);const pe=s.filter(a=>!a.isVerified),Ie=l.filter(a=>!a.isApproved),Fe=a=>{const p=new Set(J);p.has(a)?p.delete(a):p.add(a),Z(p)},Be=a=>{J.size===a.length?Z(new Set):Z(new Set(a.map(p=>p.id)))},Le=()=>{window.confirm(`Are you sure you want to permanently delete ${J.size} selected students?`)&&(d.bulkDeleteStudents(Array.from(J)),t(d.getStudents()),Z(new Set))},$e=a=>{window.confirm(`Are you sure you want to ${a?"blacklist":"unblock"} ${J.size} selected students?`)&&(d.bulkBlacklistStudents(Array.from(J),a),t(d.getStudents()),Z(new Set))},hs=()=>{window.confirm(`Are you sure you want to verify ${J.size} selected students?`)&&(d.bulkVerifyStudents(Array.from(J)),t(d.getStudents()),Z(new Set))},Ve=(a,p)=>{window.confirm(`Are you absolutely sure you want to completely remove ${p} from the database? This will also delete all their applications and cannot be undone.`)&&(d.deleteStudent(a),t(d.getStudents()))},_e=s.reduce((a,p)=>(a[p.branch]=(a[p.branch]||0)+1,a),{}),ps=Object.keys(_e).map(a=>({name:a.split(" ").pop(),value:_e[a]})),Ge=n.reduce((a,p)=>(a[p.status]=(a[p.status]||0)+1,a),{}),Je=Object.keys(Ge).map(a=>({name:a,value:Ge[a]})),qe=["#0f172a","#e11d48","#3b82f6","#f59e0b","#64748b"],Ne=s.filter(a=>a.name.toLowerCase().includes(O.toLowerCase())||a.rollNo.toLowerCase().includes(O.toLowerCase())),He=l.filter(a=>a.name.toLowerCase().includes(A.toLowerCase())||a.hrName.toLowerCase().includes(A.toLowerCase())),bs=a=>{const p=s.find($=>$.id===a);p&&(p.isBlacklisted=!p.isBlacklisted,d.saveStudent(p),t(d.getStudents()))},gs=a=>{d.verifyStudent(a),t(d.getStudents())},fs=async a=>{d.approveCompany(a),x(d.getCompanies());const p=l.find($=>$.id===a);p&&await K.sendCompanyApprovalEmail(p),alert("Company Approved! Automated emails sent to eligible students.")},js=async a=>{a.preventDefault();const p={...D,id:`s${Date.now()}`,skills:[],certifications:[],isVerified:!0,isBlacklisted:!1};d.saveStudent(p),await K.sendStudentWelcomeEmail(p),t(d.getStudents()),b(!1),U({name:"",email:"",password:"password123",rollNo:"",course:"M.Sc",branch:ee[0],year:2024,cgpa:0,backlogs:0}),alert(`Student added successfully! Welcome email sent to ${p.email}`)},Ns=a=>{var $;const p=($=a.target.files)==null?void 0:$[0];if(p){const te=new FileReader;te.onload=Q=>{var be;const ne=(be=Q.target)==null?void 0:be.result;v(ne)},te.readAsText(p)}},vs=async()=>{const a=u.split(`
`),p=[],$=Ae.generateBatch(a.length);a.forEach((Q,ne)=>{if(!Q.trim())return;const[be,Ye,We,ys,Re]=Q.split(",");if(be&&Ye&&We){const ws=$[ne]||Ae.generate();p.push({id:`s_imp_${Date.now()}_${ne}`,name:be.trim(),email:Ye.trim(),rollNo:We.trim(),cgpa:parseFloat(ys||"0"),password:ws,course:"M.Sc",branch:(Re==null?void 0:Re.trim())||ee[0],year:2024,backlogs:0,skills:[],certifications:[],isVerified:!0,isBlacklisted:!1})}}),d.importStudents(p);const te=await K.sendBulkStudentWelcomeEmails(p);t(d.getStudents()),P(!1),v(""),alert(`Successfully imported ${p.length} students!
Welcome emails sent: ${te}/${p.length}`)};return e.jsxs("div",{className:"space-y-10 pb-10 font-sans text-slate-900",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",children:"Admin Console"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"System Overview & Management"})]}),e.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl overflow-x-auto",children:[{id:"students",label:"Students"},{id:"companies",label:"Companies"},{id:"applications",label:"Applications",count:n.length},{id:"notices",label:"Notices & Events"},{id:"verification",label:"Verifications",count:pe.length},{id:"approvals",label:"Approvals",count:Ie.length}].map(a=>e.jsxs("button",{onClick:()=>i(a.id),className:`px-5 py-2.5 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${r===a.id?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[a.label,a.count&&a.count>0?e.jsx("span",{className:"bg-rose-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:a.count}):null]},a.id))})]}),r==="students"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 min-w-0",children:[e.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-6",children:"Students by Branch"}),e.jsx("div",{className:"h-60 w-full",children:e.jsx(Ze,{width:"100%",height:"100%",minWidth:0,children:e.jsxs(Ts,{data:ps,children:[e.jsx(Os,{dataKey:"name",fontSize:10,axisLine:!1,tickLine:!1}),e.jsx(es,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),e.jsx(Fs,{dataKey:"value",fill:"#334155",radius:[4,4,4,4],barSize:40})]})})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 min-w-0",children:[e.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-6",children:"Application Status"}),e.jsx("div",{className:"h-60 w-full",children:e.jsx(Ze,{width:"100%",height:"100%",minWidth:0,children:e.jsxs(Bs,{children:[e.jsx(Ls,{data:Je,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:Je.map((a,p)=>e.jsx($s,{fill:qe[p%qe.length]},`cell-${p}`))}),e.jsx(es,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})]})})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-5 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-50/50",children:[e.jsxs("div",{className:"relative w-full md:w-80",children:[e.jsx(ss,{className:"absolute left-3 top-2.5 text-slate-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search by name or roll no...",className:"pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm w-full focus:ring-2 focus:ring-slate-900 outline-none transition",value:O,onChange:a=>C(a.target.value)})]}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[e.jsxs("button",{onClick:()=>b(!0),className:"flex-1 md:flex-none flex items-center justify-center gap-2 px-4 py-2.5 bg-slate-900 hover:bg-slate-800 text-white rounded-xl text-xs font-bold transition shadow-sm",children:[e.jsx(Ce,{size:14})," Add Student"]}),e.jsxs("button",{onClick:()=>xe(!0),className:"flex-1 md:flex-none flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-xs font-bold transition shadow-sm",children:[e.jsx(De,{size:14})," Smart Import"]}),e.jsxs("button",{onClick:()=>Oe(!0),className:"flex-1 md:flex-none flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-xl text-xs font-bold transition shadow-sm",children:[e.jsx(Ee,{size:14})," Export"]})]})]}),J.size>0&&e.jsxs("div",{className:"mx-5 mb-4 p-4 bg-slate-900 text-white rounded-xl flex items-center justify-between shadow-lg animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"font-bold text-sm bg-white/20 px-3 py-1 rounded-full",children:[J.size," Selected"]}),e.jsx("div",{className:"h-6 w-px bg-white/20"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>$e(!0),className:"px-3 py-1.5 bg-red-500/20 hover:bg-red-500/40 text-red-200 rounded-lg text-xs font-bold transition flex items-center gap-2",children:[e.jsx(ye,{size:14})," Bulk Blacklist"]}),e.jsxs("button",{onClick:()=>$e(!1),className:"px-3 py-1.5 bg-green-500/20 hover:bg-green-500/40 text-green-200 rounded-lg text-xs font-bold transition flex items-center gap-2",children:[e.jsx(H,{size:14})," Bulk Unblock"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Z(new Set),className:"px-3 py-1.5 text-white/60 hover:text-white transition text-xs font-bold",children:"Cancel"}),e.jsxs("button",{onClick:Le,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl text-xs font-bold transition shadow-sm flex items-center gap-2",children:[e.jsx(me,{size:14})," Delete Selected"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5 w-10",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-slate-900 focus:ring-slate-900",checked:J.size>0&&J.size===Ne.length,onChange:()=>Be(Ne)})}),e.jsx("th",{className:"p-5",children:"Student Identity"}),e.jsx("th",{className:"p-5",children:"Academic Info"}),e.jsx("th",{className:"p-5",children:"Performance"}),e.jsx("th",{className:"p-5",children:"Login Password"}),e.jsx("th",{className:"p-5",children:"Status"}),e.jsx("th",{className:"p-5 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:Ne.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-10 text-center text-slate-400 font-medium",children:"No records found."})}):Ne.map(a=>e.jsxs("tr",{className:`hover:bg-slate-50/80 transition-colors cursor-pointer ${J.has(a.id)?"bg-slate-50":""}`,onClick:()=>I(a),children:[e.jsx("td",{className:"p-5",onClick:p=>p.stopPropagation(),children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-slate-900 focus:ring-slate-900",checked:J.has(a.id),onChange:()=>Fe(a.id)})}),e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900",children:a.name}),e.jsx("div",{className:"text-xs text-slate-500 font-medium mt-0.5",children:a.rollNo})]}),e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"text-sm font-medium text-slate-700",children:a.branch}),e.jsxs("div",{className:"text-xs text-slate-400 mt-0.5",children:[a.course," â€¢ ",a.year]})]}),e.jsx("td",{className:"p-5",children:e.jsx("div",{className:"inline-block px-2 py-1 bg-slate-100 rounded text-xs font-mono font-bold text-slate-700",children:a.cgpa})}),e.jsx("td",{className:"p-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-xs font-mono font-bold border border-blue-200",children:a.password}),e.jsx("button",{onClick:p=>{p.stopPropagation(),navigator.clipboard.writeText(a.password),alert("Password copied to clipboard!")},className:"p-1.5 hover:bg-slate-100 rounded transition text-slate-400 hover:text-slate-700",title:"Copy password",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]})}),e.jsx("td",{className:"p-5",children:a.isBlacklisted?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-red-50 text-red-600 border border-red-100",children:[e.jsx(ye,{size:12})," Blacklisted"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100",children:[e.jsx(H,{size:12})," Active"]})}),e.jsx("td",{className:"p-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:p=>{p.stopPropagation(),I(a)},className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition",title:"View Profile",children:e.jsx(Se,{size:16})}),e.jsx("button",{onClick:p=>{p.stopPropagation(),bs(a.id)},className:`p-2 rounded-lg transition ${a.isBlacklisted?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-red-50 text-red-600 hover:bg-red-100"}`,title:a.isBlacklisted?"Unblock Student":"Blacklist Student",children:a.isBlacklisted?e.jsx(H,{size:16}):e.jsx(ye,{size:16})}),e.jsx("button",{onClick:p=>{p.stopPropagation(),Ve(a.id,a.name)},className:"p-2 bg-slate-100 text-slate-400 hover:bg-red-600 hover:text-white rounded-lg transition",title:"Permanently Remove Student",children:e.jsx(me,{size:16})})]})})]},a.id))})]})})]})]}),r==="companies"&&e.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"p-5 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-50/50",children:e.jsxs("div",{className:"relative w-full md:w-80",children:[e.jsx(ss,{className:"absolute left-3 top-2.5 text-slate-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search companies...",className:"pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm w-full focus:ring-2 focus:ring-slate-900 outline-none transition",value:A,onChange:a=>q(a.target.value)})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5",children:"Company"}),e.jsx("th",{className:"p-5",children:"HR Contact"}),e.jsx("th",{className:"p-5",children:"Drives"}),e.jsx("th",{className:"p-5",children:"Status"}),e.jsx("th",{className:"p-5 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:He.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-10 text-center text-slate-400 font-medium",children:"No companies found."})}):He.map(a=>{const p=c.filter($=>$.companyId===a.id);return e.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors cursor-pointer",onClick:()=>_(a),children:[e.jsx("td",{className:"p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(ce,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900",children:a.name}),a.description&&e.jsx("div",{className:"text-xs text-slate-500 mt-0.5 line-clamp-1",children:a.description})]})]})}),e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-medium text-slate-700",children:a.hrName}),e.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:a.hrEmail})]}),e.jsx("td",{className:"p-5",children:e.jsxs("div",{className:"inline-block px-3 py-1 bg-slate-100 rounded-full text-sm font-bold text-slate-700",children:[p.length," ",p.length===1?"Drive":"Drives"]})}),e.jsx("td",{className:"p-5",children:a.isApproved?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100",children:[e.jsx(H,{size:12})," Approved"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-yellow-50 text-yellow-600 border border-yellow-100",children:[e.jsx(ye,{size:12})," Pending"]})}),e.jsx("td",{className:"p-5 text-right",children:e.jsx("button",{onClick:$=>{$.stopPropagation(),_(a)},className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition",title:"View Details",children:e.jsx(Se,{size:16})})})]},a.id)})})]})})]})}),r==="verification"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden animate-in fade-in slide-in-from-bottom-2",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-lg text-slate-900",children:"Pending Verifications"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Validate student data against hard copies."})]})}),J.size>0&&e.jsxs("div",{className:"mx-5 mb-4 p-4 bg-slate-900 text-white rounded-xl flex items-center justify-between shadow-lg animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"font-bold text-sm bg-white/20 px-3 py-1 rounded-full",children:[J.size," Selected"]}),e.jsx("div",{className:"h-6 w-px bg-white/20"}),e.jsxs("button",{onClick:hs,className:"px-3 py-1.5 bg-green-500/20 hover:bg-green-500/40 text-green-200 rounded-lg text-xs font-bold transition flex items-center gap-2",children:[e.jsx(H,{size:14})," Bulk Verify"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Z(new Set),className:"px-3 py-1.5 text-white/60 hover:text-white transition text-xs font-bold",children:"Cancel"}),e.jsxs("button",{onClick:Le,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl text-xs font-bold transition shadow-sm flex items-center gap-2",children:[e.jsx(me,{size:14})," Delete Selected"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5 w-10",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-slate-900 focus:ring-slate-900",checked:J.size>0&&J.size===pe.length,onChange:()=>Be(pe)})}),e.jsx("th",{className:"p-5",children:"Student"}),e.jsx("th",{className:"p-5",children:"Submitted Data"}),e.jsx("th",{className:"p-5 text-right",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:pe.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-10 text-center text-slate-400 font-medium",children:"All profiles verified."})}):pe.map(a=>e.jsxs("tr",{className:`hover:bg-slate-50 transition-colors cursor-pointer ${J.has(a.id)?"bg-slate-50":""}`,onClick:()=>I(a),children:[e.jsx("td",{className:"p-5",onClick:p=>p.stopPropagation(),children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-slate-900 focus:ring-slate-900",checked:J.has(a.id),onChange:()=>Fe(a.id)})}),e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900",children:a.name}),e.jsx("div",{className:"text-xs text-slate-500 font-medium mt-0.5",children:a.email})]}),e.jsxs("td",{className:"p-5 text-sm",children:[e.jsxs("div",{className:"font-medium text-slate-700",children:[a.course," - ",a.branch]}),e.jsxs("div",{className:"text-slate-500 mt-1",children:["Roll: ",e.jsx("span",{className:"font-mono text-slate-700",children:a.rollNo})," | CGPA: ",e.jsx("span",{className:"font-mono text-slate-700",children:(a.cgpa||0).toFixed(2)})]})]}),e.jsxs("td",{className:"p-5 text-right space-x-2",children:[e.jsx("button",{onClick:p=>{p.stopPropagation(),I(a)},className:"p-2 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition",title:"View Details",children:e.jsx(Se,{size:16})}),e.jsxs("button",{onClick:p=>{p.stopPropagation(),gs(a.id)},className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl text-xs font-bold hover:bg-green-700 transition shadow-sm",children:[e.jsx(H,{size:14})," Verify"]}),e.jsx("button",{onClick:p=>{p.stopPropagation(),Ve(a.id,a.name)},className:"p-2 bg-slate-100 text-slate-400 hover:bg-red-600 hover:text-white rounded-xl transition",title:"Delete Registration",children:e.jsx(me,{size:16})})]})]},a.id))})]})})]}),r==="approvals"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100",children:[e.jsx("h2",{className:"font-bold text-lg text-slate-900",children:"Company Approvals"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Approve new registration requests from recruiters."})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5",children:"Company"}),e.jsx("th",{className:"p-5",children:"Drive Details"}),e.jsx("th",{className:"p-5",children:"HR Contact"}),e.jsx("th",{className:"p-5 text-right",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:Ie.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-10 text-center text-slate-400 font-medium",children:"No pending approvals."})}):Ie.map(a=>{const p=c.find($=>$.companyId===a.id);return e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900 text-lg",children:a.name}),e.jsxs("div",{className:"inline-block px-2 py-0.5 bg-slate-100 rounded text-[10px] font-bold text-slate-500 uppercase tracking-wide mt-1",children:["Deadline: ",(p==null?void 0:p.deadline)||"N/A"]})]}),e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-blue-600",children:(p==null?void 0:p.role)||"N/A"}),e.jsxs("div",{className:"text-sm text-slate-500 mt-1 font-medium",children:[(p==null?void 0:p.ctc)||"N/A"," ",e.jsx("span",{className:"text-slate-300 mx-1",children:"|"})," Min CGPA: ",(p==null?void 0:p.minCgpa)||"N/A"]})]}),e.jsxs("td",{className:"p-5 text-sm",children:[e.jsx("div",{className:"font-medium text-slate-900",children:a.hrName}),e.jsx("div",{className:"text-slate-500",children:a.hrEmail})]}),e.jsx("td",{className:"p-5 text-right",children:e.jsxs("button",{onClick:()=>fs(a.id),className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-xl text-xs font-bold hover:bg-slate-800 transition shadow-sm",children:[e.jsx(ge,{size:14})," Approve"]})})]},a.id)})})]})})]}),z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-lg w-full transform transition-all",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Import Student Database"}),e.jsx("button",{onClick:()=>P(!1),className:"text-slate-400 hover:text-slate-700",children:e.jsx(X,{size:24})})]}),e.jsxs("div",{className:"mb-6 bg-slate-50 p-4 rounded-xl border border-slate-200",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Upload CSV File"}),e.jsx("input",{type:"file",accept:".csv",onChange:Ns,className:`block w-full text-sm text-slate-500
                                file:mr-4 file:py-2 file:px-4
                                file:rounded-full file:border-0
                                file:text-xs file:font-bold
                                file:bg-slate-200 file:text-slate-700
                                hover:file:bg-slate-300
                                cursor-pointer
                            `})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-200"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase font-bold tracking-widest",children:e.jsx("span",{className:"px-2 bg-white text-slate-400",children:"Or paste raw data"})})]}),e.jsx("p",{className:"text-xs text-slate-400 mb-2 font-medium",children:"Format: Name, Email, RollNo, CGPA, Branch (one per line)"}),e.jsx("p",{className:"text-xs text-green-600 mb-2 font-medium",children:"âœ¨ Passwords will be auto-generated and welcome emails sent automatically!"}),e.jsx("textarea",{className:"w-full border border-slate-200 bg-slate-50 p-4 rounded-xl h-40 font-mono text-sm focus:ring-2 focus:ring-slate-900 outline-none",placeholder:`John Doe, john@nfsu.ac.in, NFSU001, 9.5, M.Sc Cyber Security
Jane Smith, jane@nfsu.ac.in, NFSU002, 8.8, M.Sc Digital Forensics`,value:u,onChange:a=>v(a.target.value)}),e.jsx("button",{onClick:vs,className:"w-full mt-6 bg-slate-900 text-white py-3.5 rounded-xl font-bold hover:bg-slate-800 transition shadow-lg shadow-slate-200",children:"Process Database Import"})]})}),r==="notices"&&e.jsx(nt,{notices:j,events:E,onUpdate:()=>{S(d.getNotices()),k(d.getEvents())}}),r==="applications"&&e.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"All Applications"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Manage placement drive applications and update round statuses"})]}),e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5",children:"Student"}),e.jsx("th",{className:"p-5",children:"Drive & Company"}),e.jsx("th",{className:"p-5",children:"Applied Date"}),e.jsx("th",{className:"p-5",children:"Current Round"}),e.jsx("th",{className:"p-5",children:"Status"}),e.jsx("th",{className:"p-5 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-10 text-center text-slate-400 font-medium",children:"No applications found."})}):n.map(a=>{var ne;const p=d.getStudent(a.studentId),$=d.getDrive(a.driveId),te=$?d.getCompany($.companyId):void 0,Q=(ne=a.roundStatuses)==null?void 0:ne[a.currentRound];return e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900",children:(p==null?void 0:p.name)||"Unknown"}),e.jsx("div",{className:"text-xs text-slate-500",children:p==null?void 0:p.rollNo})]}),e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900",children:($==null?void 0:$.role)||"Unknown"}),e.jsx("div",{className:"text-xs text-slate-500",children:(te==null?void 0:te.name)||"Unknown"})]}),e.jsx("td",{className:"p-5 text-sm text-slate-600",children:new Date(a.appliedAt).toLocaleDateString()}),e.jsx("td",{className:"p-5",children:Q?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:Q.roundName}),e.jsx("div",{className:`text-xs ${Q.status==="Cleared"?"text-green-600":Q.status==="Rejected"?"text-red-600":Q.status==="Scheduled"?"text-blue-600":"text-slate-500"}`,children:Q.status})]}):e.jsx("span",{className:"text-xs text-slate-400",children:"No rounds"})}),e.jsx("td",{className:"p-5",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold border ${a.status==="Selected"?"bg-green-100 text-green-700 border-green-200":a.status==="Rejected"?"bg-red-50 text-red-600 border-red-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:a.status})}),e.jsx("td",{className:"p-5 text-right",children:e.jsx("button",{onClick:()=>f(a),className:"px-4 py-2 bg-slate-900 text-white rounded-lg text-xs font-bold hover:bg-slate-800 transition",children:"Manage"})})]},a.id)})})]})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Add Student"}),e.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-700",children:e.jsx(X,{size:24})})]}),e.jsxs("form",{onSubmit:js,className:"space-y-4",children:[e.jsx("input",{required:!0,placeholder:"Full Name",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none transition",value:D.name,onChange:a=>U({...D,name:a.target.value})}),e.jsx("input",{required:!0,placeholder:"Roll No",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none transition",value:D.rollNo,onChange:a=>U({...D,rollNo:a.target.value})}),e.jsx("input",{required:!0,placeholder:"Email",type:"email",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none transition",value:D.email,onChange:a=>U({...D,email:a.target.value})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{required:!0,placeholder:"CGPA",type:"number",step:"0.1",className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none transition",value:D.cgpa,onChange:a=>U({...D,cgpa:parseFloat(a.target.value)})}),e.jsx("select",{className:"w-full border border-slate-200 p-3 rounded-xl bg-slate-50 focus:ring-2 focus:ring-slate-900 outline-none transition",value:D.branch,onChange:a=>U({...D,branch:a.target.value}),children:ee.map(a=>e.jsx("option",{children:a},a))})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3.5 rounded-xl font-bold hover:bg-slate-800 transition shadow-lg shadow-slate-200 mt-2",children:"Create Record"})]})]})}),G&&e.jsx(at,{student:G,onClose:()=>I(null)}),L&&e.jsx(rt,{company:L,onClose:()=>_(null)}),m&&(()=>{const a=d.getStudent(m.studentId),p=d.getDrive(m.driveId),$=p?d.getCompany(p.companyId):void 0;return!a||!p||!$?null:e.jsx(it,{application:m,student:a,drive:p,company:$,onUpdate:()=>{f(null),window.location.reload()},onClose:()=>f(null)})})(),je&&e.jsx(ot,{onClose:()=>xe(!1),onImportComplete:()=>{t(d.getStudents()),xe(!1)}}),us&&e.jsx(dt,{students:s,onClose:()=>Oe(!1)})]})},ct=()=>{const[s]=o.useState(d.getCompanies()),[t]=o.useState(d.getDrives()),[l,x]=o.useState(d.getApplications()),[n,c]=o.useState(null),r=t.find(j=>j.id===n),i=r?s.find(j=>j.id===r.companyId):null,m=l.filter(j=>j.driveId===n),f=(j,S)=>{d.updateApplicationStatus(j,S),x(d.getApplications())};return e.jsxs("div",{className:"flex h-[calc(100vh-8rem)] gap-6",children:[e.jsxs("div",{className:"w-1/3 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:e.jsx("h2",{className:"font-bold text-gray-700",children:"Active Placement Drives"})}),e.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-2",children:t.map(j=>{const S=s.find(k=>k.id===j.companyId),E=l.filter(k=>k.driveId===j.id).length;return e.jsxs("button",{onClick:()=>c(j.id),className:`w-full text-left p-3 rounded-lg border transition-all ${n===j.id?"border-blue-500 bg-blue-50":"border-gray-100 hover:border-blue-300"}`,children:[e.jsx("div",{className:"font-semibold text-gray-800 line-clamp-1",children:j.role}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(ce,{size:10})," ",S==null?void 0:S.name]}),e.jsxs("div",{className:"text-xs text-gray-500 flex justify-between mt-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${j.status==="Open"?"bg-green-100 text-green-700":"bg-red-50 text-red-600"}`,children:j.status}),e.jsxs("span",{className:"flex items-center gap-1 bg-gray-200 px-2 py-0.5 rounded-full text-gray-700 font-bold",children:[e.jsx(xs,{size:10})," ",E]})]})]},j.id)})})]}),e.jsx("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl text-gray-800",children:r.role}),e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[i==null?void 0:i.name,e.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),r.ctc]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Total Applicants: ",e.jsx("span",{className:"font-bold",children:m.length})]})]}),e.jsx("div",{className:"overflow-y-auto flex-1",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Student Details"}),e.jsx("th",{className:"p-4",children:"Current Status"}),e.jsx("th",{className:"p-4",children:"Lifecycle Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[m.map(j=>{const S=d.getStudents().find(E=>E.id===j.studentId);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:(S==null?void 0:S.name)||"Unknown"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[S==null?void 0:S.rollNo," | ",S==null?void 0:S.branch]}),e.jsxs("div",{className:"text-xs text-blue-600 font-mono mt-0.5",children:["CGPA: ",S==null?void 0:S.cgpa]})]}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold border ${j.status===W.SELECTED?"bg-green-100 text-green-700 border-green-200":j.status===W.REJECTED?"bg-red-100 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-100"}`,children:j.status})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-1 flex-wrap",children:[[W.SHORTLISTED,W.TECHNICAL,W.HR,W.SELECTED].map(E=>e.jsx("button",{onClick:()=>f(j.id,E),disabled:j.status===E,className:`px-2 py-1 text-[10px] uppercase font-bold rounded border transition ${j.status===E?"bg-slate-800 text-white border-slate-800":"bg-white text-gray-600 border-gray-200 hover:border-blue-400 hover:text-blue-600"}`,children:E.replace(" Round","")},E)),e.jsx("button",{onClick:()=>f(j.id,W.REJECTED),className:"px-2 py-1 text-[10px] uppercase font-bold rounded border bg-white text-red-600 border-red-200 hover:bg-red-50",children:"Reject"})]})})]},j.id)}),m.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"p-8 text-center text-gray-400",children:"No applications received yet."})})]})]})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[e.jsx(ie,{size:48,className:"mb-4 opacity-20"}),e.jsx("p",{children:"Select a drive from the left to manage applications"})]})})]})},as=()=>{const s=d.getCurrentUser(),l=d.getCompanies().find(h=>h.id===(s==null?void 0:s.id)),n=d.getDrives().filter(h=>h.companyId===(l==null?void 0:l.id)),c=d.getApplications(),r=d.getStudents(),[i,m]=o.useState("drives"),[f,j]=o.useState(null),[S,E]=o.useState(!1),[k,M]=o.useState({role:"",ctc:"",minCgpa:0,maxBacklogs:0,eligibleBranches:[],deadline:"",status:"Open"}),[V,F]=o.useState(""),w=h=>c.filter(b=>b.driveId===h),T=f?w(f).filter(h=>!V||h.status===V):[],g=async h=>{if(h.preventDefault(),!l)return;const b={...k,id:`d${Date.now()}`,companyId:l.id,rounds:["Aptitude","Technical","HR"],description:`Drive for ${k.role}`};d.saveDrive(b);const D=await K.notifyEligibleStudents(b,l);alert(`Drive published successfully!
${D.count} eligible students have been notified via Listmonk.`),E(!1),M({role:"",ctc:"",minCgpa:0,maxBacklogs:0,eligibleBranches:[],deadline:"",status:"Open"}),window.location.reload()},y=h=>{const b=k.eligibleBranches||[];b.includes(h)?M({...k,eligibleBranches:b.filter(D=>D!==h)}):M({...k,eligibleBranches:[...b,h]})},N=()=>{const b=`data:text/csv;charset=utf-8,Name,Email,Branch,CGPA,Status
`+T.map(u=>{const v=r.find(z=>z.id===u.studentId);return[v==null?void 0:v.name,v==null?void 0:v.email,v==null?void 0:v.branch,v==null?void 0:v.cgpa,u.status].join(",")}).join(`
`),D=encodeURI(b),U=document.createElement("a");U.setAttribute("href",D),U.setAttribute("download","applicants.csv"),document.body.appendChild(U),U.click(),document.body.removeChild(U)};return l?e.jsxs("div",{className:"space-y-8 font-sans text-slate-900 pb-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:"Recruiter Dashboard"}),e.jsxs("p",{className:"text-slate-500 font-medium mt-1",children:[l.name," â€¢ HR Portal"]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>E(!0),className:"bg-slate-900 text-white px-5 py-2.5 rounded-xl font-bold text-sm hover:bg-slate-800 transition shadow-lg flex items-center gap-2",children:[e.jsx(Ce,{size:16})," New Drive"]})})]}),e.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[e.jsxs("button",{onClick:()=>{m("drives"),j(null)},className:`px-6 py-3 text-sm font-bold transition-all relative ${i==="drives"?"text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:["My Drives ",e.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-0.5 rounded-full text-xs ml-2",children:n.length}),i==="drives"&&e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-slate-900"})]}),e.jsxs("button",{onClick:()=>m("applicants"),className:`px-6 py-3 text-sm font-bold transition-all relative ${i==="applicants"?"text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:["View Applicants",i==="applicants"&&e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-slate-900"})]})]}),i==="drives"&&e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-2",children:[n.map(h=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 hover:border-slate-300 transition shadow-sm hover:shadow-md group relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl",children:e.jsx(ie,{size:24})}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${h.status==="Open"?"bg-green-50 text-green-700 border-green-100":"bg-slate-100 text-slate-500 border-slate-200"}`,children:h.status})]}),e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:h.role}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mt-2 mb-6",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(cs,{size:14})," ",h.ctc]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(se,{size:14})," ",h.deadline]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-100 pt-4",children:[e.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase",children:[w(h.id).length," Applicants"]}),e.jsxs("button",{onClick:()=>{j(h.id),m("applicants")},className:"text-sm font-bold text-slate-900 hover:text-rose-600 flex items-center gap-1 transition",children:["View Candidates ",e.jsx(ue,{size:14})]})]})]},h.id)),n.length===0&&e.jsx("div",{className:"col-span-full py-20 text-center text-slate-400 bg-slate-50 rounded-2xl border border-dashed border-slate-200",children:'No drives posted yet. Click "New Drive" to start.'})]}),i==="applicants"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-50/50",children:[e.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[e.jsxs("select",{className:"px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:ring-2 focus:ring-slate-900 outline-none w-full md:w-64",value:f||"",onChange:h=>j(h.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select a Drive"}),n.map(h=>e.jsxs("option",{value:h.id,children:[h.role," (",w(h.id).length,")"]},h.id))]}),e.jsxs("div",{className:"relative w-full md:w-auto",children:[e.jsxs("select",{className:"pl-3 pr-8 py-2.5 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:ring-2 focus:ring-slate-900 outline-none appearance-none cursor-pointer hover:bg-slate-50 transition w-full",value:V,onChange:h=>F(h.target.value),children:[e.jsx("option",{value:"",children:"All Statuses"}),Object.values(W).map(h=>e.jsx("option",{value:h,children:h},h))]}),e.jsx(ze,{className:"absolute right-3 top-3 text-slate-400 pointer-events-none",size:14})]})]}),f&&e.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-bold hover:bg-slate-800 transition shadow-sm w-full md:w-auto justify-center",children:[e.jsx(Ee,{size:14})," Export CSV"]})]}),e.jsx("div",{className:"overflow-x-auto min-h-[400px]",children:f?e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-5",children:"Candidate Name"}),e.jsx("th",{className:"p-5",children:"Academic Profile"}),e.jsx("th",{className:"p-5",children:"Applied At"}),e.jsx("th",{className:"p-5",children:"Status"}),e.jsx("th",{className:"p-5 text-right",children:"Resume"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:T.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-10 text-center text-slate-400 font-medium",children:"No candidates matching filters."})}):T.map(h=>{const b=r.find(D=>D.id===h.studentId);return e.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[e.jsxs("td",{className:"p-5",children:[e.jsx("div",{className:"font-bold text-slate-900",children:b==null?void 0:b.name}),e.jsx("div",{className:"text-xs text-slate-500 mt-0.5 font-medium",children:b==null?void 0:b.email})]}),e.jsxs("td",{className:"p-5 text-sm",children:[e.jsx("div",{className:"text-slate-700 font-medium",children:b==null?void 0:b.branch}),e.jsxs("div",{className:"text-slate-400 text-xs mt-1",children:["CGPA: ",e.jsx("span",{className:"font-mono text-slate-600 font-bold",children:b==null?void 0:b.cgpa})]})]}),e.jsx("td",{className:"p-5 text-sm font-mono text-slate-500",children:h.appliedAt}),e.jsx("td",{className:"p-5",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold border ${h.status===W.SELECTED?"bg-green-100 text-green-700 border-green-200":"bg-slate-100 text-slate-600 border-slate-200"}`,children:h.status})}),e.jsx("td",{className:"p-5 text-right",children:b!=null&&b.resumeUrl?e.jsx("a",{href:b.resumeUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline text-xs font-bold",children:"View PDF"}):e.jsx("span",{className:"text-slate-400 text-xs",children:"No Resume"})})]},h.id)})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400",children:[e.jsx(ze,{size:48,className:"mb-4 opacity-20"}),e.jsx("p",{children:"Select a drive to view applicants"})]})})]}),S&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Post New Drive"}),e.jsx("button",{onClick:()=>E(!1),className:"text-slate-400 hover:text-slate-700",children:e.jsx(X,{size:24})})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Title"}),e.jsx("input",{required:!0,className:"w-full border p-2.5 rounded-lg bg-slate-50",value:k.role,onChange:h=>M({...k,role:h.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CTC / Stipend"}),e.jsx("input",{required:!0,className:"w-full border p-2.5 rounded-lg bg-slate-50",value:k.ctc,onChange:h=>M({...k,ctc:h.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min CGPA"}),e.jsx("input",{required:!0,type:"number",step:"0.1",className:"w-full border p-2.5 rounded-lg bg-slate-50",value:k.minCgpa,onChange:h=>M({...k,minCgpa:parseFloat(h.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Backlogs"}),e.jsx("input",{required:!0,type:"number",className:"w-full border p-2.5 rounded-lg bg-slate-50",value:k.maxBacklogs,onChange:h=>M({...k,maxBacklogs:parseInt(h.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deadline"}),e.jsx("input",{required:!0,type:"date",className:"w-full border p-2.5 rounded-lg bg-slate-50",value:k.deadline,onChange:h=>M({...k,deadline:h.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Eligible Branches"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:ee.map(h=>{var b;return e.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-slate-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:(b=k.eligibleBranches)==null?void 0:b.includes(h),onChange:()=>y(h),className:"w-4 h-4 text-slate-900"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:h})]},h)})})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3.5 rounded-xl font-bold hover:bg-slate-800 transition",children:"Publish Drive"})]})]})})]}):e.jsx("div",{className:"p-10 text-center text-slate-500",children:"Access Denied"})},xt=()=>new Vs({apiKey:"YOUR_GEMINI_API_KEY"}),mt=async(s,t,l)=>{try{const x=xt(),n="gemini-3-flash-preview",c=`
        You are the Placement Officer at National Forensic Sciences University (NFSU), Dharwad.
        Draft a formal, concise, and professional email notification to students regarding a new placement drive.
        
        Details:
        Company: ${s}
        Role: ${t}
        Raw Context/Message from Company: "${l}"

        The email should:
        1. Have a clear Subject Line.
        2. Be addressed to "Dear Students,".
        3. Include key details like Role, Eligibility (if mentioned in raw text), and Action Required.
        4. Sign off as "Placement Cell, NFSU Dharwad".
        5. Do NOT use placeholders like [Date] unless essential.
        `;return(await x.models.generateContent({model:n,contents:c})).text||"Failed to generate draft."}catch(x){throw console.error("Gemini Error:",x),x}},ut=()=>{const[s,t]=o.useState(""),[l,x]=o.useState(""),[n,c]=o.useState(""),[r,i]=o.useState(""),[m,f]=o.useState(!1),[j,S]=o.useState(!1),[E,k]=o.useState(!1),M=async()=>{f(!0);try{const F=await mt(s,l,n);i(F)}catch{i("Error: Ensure Gemini API Key is set and valid.")}f(!1)},V=async()=>{if(!r)return;S(!0);const F=d.getStudents().map(y=>y.email),w=r.split(`
`);let T=`Placement Update: ${s} - ${l}`;w[0].toLowerCase().includes("subject:")&&(T=w[0].replace(/subject:/i,"").trim());const g=await K.sendBulkNotification(F,T,r);S(!1),g.success?(k(!0),setTimeout(()=>k(!1),3e3)):alert("Failed to send emails via Listmonk. Please check VITE_LISTMONK_URL and credentials in .env.local")};return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(ts,{className:"text-purple-600"}),"AI Mail Bot (Listmonk)"]}),e.jsx("p",{className:"text-gray-500",children:"Generate professional notifications from raw text and send them instantly via your self-hosted Listmonk."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),e.jsx("input",{className:"w-full border p-2 rounded mb-3",value:s,onChange:F=>t(F.target.value)}),e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsx("input",{className:"w-full border p-2 rounded mb-3",value:l,onChange:F=>x(F.target.value)}),e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Raw Email Content"}),e.jsx("textarea",{className:"w-full border p-2 rounded h-40 text-sm",placeholder:"Paste the unstructured email text received from the company here...",value:n,onChange:F=>c(F.target.value)}),e.jsx("button",{onClick:M,disabled:m,className:"mt-4 w-full bg-purple-600 text-white py-2 rounded-lg font-medium hover:bg-purple-700 transition flex justify-center items-center gap-2",children:m?"Drafting...":e.jsxs(e.Fragment,{children:[e.jsx(ts,{size:16})," Generate Official Draft"]})})]})}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200 flex flex-col h-full",children:[e.jsx("h3",{className:"font-semibold text-slate-700 mb-2",children:"Preview"}),e.jsx("div",{className:"flex-1 bg-white p-4 rounded border border-gray-200 whitespace-pre-wrap text-sm text-gray-700 overflow-y-auto font-mono",children:r||e.jsx("span",{className:"text-gray-400 italic",children:"Draft will appear here..."})}),r&&e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(r),alert("Copied to clipboard!")},className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 py-2 rounded text-sm hover:bg-gray-50",children:[e.jsx(_s,{size:16})," Copy"]}),e.jsx("button",{onClick:V,disabled:j||!r,className:`flex-1 flex items-center justify-center gap-2 py-2 rounded text-sm transition ${E?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:j?"Sending...":E?e.jsxs(e.Fragment,{children:[e.jsx(ge,{size:16})," Notification Sent"]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{size:16})," Send Notification"]})})]})]})]})]})},ht=()=>{const s=re(),[t,l]=o.useState(void 0),[x,n]=o.useState(!0),[c,r]=o.useState(!1),[i,m]=o.useState(""),[f,j]=o.useState(""),[S,E]=o.useState(""),[k,M]=o.useState(""),[V,F]=o.useState(2025),[w,T]=o.useState(0),[g,y]=o.useState(0),[N,h]=o.useState(""),[b,D]=o.useState(""),[U,u]=o.useState(null),[v,z]=o.useState(!1),[P,O]=o.useState(""),[C,A]=o.useState("");o.useEffect(()=>{(()=>{var je,xe;const L=d.getCurrentUser();if(!L){s("/login");return}const _=d.getStudent(L.id);_?(l(_),m(_.name||""),j(_.rollNo||""),E(_.course||""),M(_.branch||""),F(_.year||2025),T(_.cgpa||0),y(_.backlogs||0),h(((je=_.skills)==null?void 0:je.join(", "))||""),D(((xe=_.certifications)==null?void 0:xe.join(", "))||""),n(!1),r(!1)):(console.warn(`User ID ${L.id} not found in students list.`),r(!0),n(!1))})()},[s]);const q=I=>{if(I.target.files&&I.target.files[0]){const L=I.target.files[0];if(L.size>2*1024*1024){A("File too large. Max 2MB.");return}if(L.type!=="application/pdf"){A("Only PDF files are allowed.");return}u(L),A("")}},G=async()=>{if(t){z(!0),A(""),O("");try{const I={...t,name:i,rollNo:f,course:S,branch:k,year:V,cgpa:w,backlogs:g,skills:N.split(",").map(L=>L.trim()).filter(Boolean),certifications:b.split(",").map(L=>L.trim()).filter(Boolean),lastUpdated:new Date().toISOString()};U&&(I.resumeUrl="uploaded",I.resumeFileName=U.name,I.resumeUploadedAt=new Date().toISOString()),d.saveStudent(I),l(I),u(null),O("Profile updated successfully!"),setTimeout(()=>O(""),3e3)}catch(I){console.error("Save error:",I),A("Failed to save profile.")}finally{z(!1)}}};return x?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-slate-500 font-medium",children:"Loading profile..."})}):c||!t?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center p-6",children:[e.jsx(oe,{size:48,className:"text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Profile Not Found"}),e.jsx("button",{onClick:()=>s("/"),className:"bg-slate-900 text-white px-6 py-2 rounded-xl font-bold mt-4",children:"Go Home"})]}):e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pb-12 animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("button",{onClick:()=>s("/student"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 transition mb-4 font-bold",children:[e.jsx(he,{size:18})," Back to Dashboard"]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"My Profile Section"}),e.jsx("p",{className:"text-slate-500",children:"Official academic and professional record."})]}),t.isVerified?e.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm font-bold border border-green-200",children:[e.jsx(ge,{size:16})," Verified"]}):e.jsxs("div",{className:"flex items-center gap-2 bg-amber-100 text-amber-700 px-4 py-2 rounded-full text-sm font-bold border border-amber-200",children:[e.jsx(oe,{size:16})," Pending Verification"]})]}),e.jsxs("div",{className:"p-8 grid md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[e.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(ke,{size:16,className:"text-slate-900"})," Identity"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Full Name (Editable)"}),e.jsx("input",{type:"text",className:"w-full font-bold text-slate-900 text-lg bg-slate-50 border border-slate-200 rounded-xl p-3 focus:ring-2 focus:ring-slate-900 outline-none",value:i,onChange:I=>m(I.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Official Email (Read-only)"}),e.jsxs("div",{className:"font-medium text-slate-400 flex items-center gap-2 p-3 bg-slate-50/50 rounded-xl border border-slate-100 italic",children:[e.jsx(fe,{size:14})," ",t.email]}),e.jsx("p",{className:"text-[9px] text-slate-400 mt-1",children:"Email cannot be changed for security reasons."})]})]})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[e.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[e.jsx(ds,{size:16,className:"text-slate-900"})," Academic Specs"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Roll Number"}),e.jsx("input",{type:"text",className:"w-full text-sm font-bold font-mono bg-white p-2.5 rounded-xl border border-slate-200 focus:ring-2 focus:ring-slate-900 outline-none",value:f,onChange:I=>j(I.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Course"}),e.jsx("input",{type:"text",className:"w-full text-sm font-bold bg-white p-2.5 rounded-xl border border-slate-200 focus:ring-2 focus:ring-slate-900 outline-none",value:S,onChange:I=>E(I.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Branch"}),e.jsx("input",{type:"text",className:"w-full text-sm font-bold bg-white p-2.5 rounded-xl border border-slate-200 focus:ring-2 focus:ring-slate-900 outline-none",value:k,onChange:I=>M(I.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Passing Year"}),e.jsx("input",{type:"number",className:"w-full text-sm font-bold bg-white p-2.5 rounded-xl border border-slate-200 focus:ring-2 focus:ring-slate-900 outline-none",value:V,onChange:I=>F(parseInt(I.target.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"CGPA"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full text-lg font-black text-rose-600 bg-white p-2.5 rounded-xl border border-slate-200 focus:ring-2 focus:ring-rose-500 outline-none",value:w,onChange:I=>T(parseFloat(I.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Backlogs"}),e.jsx("input",{type:"number",className:`w-full text-sm font-bold bg-white p-2.5 rounded-xl border border-slate-200 focus:ring-2 ${g>0?"focus:ring-red-500 text-red-600":"focus:ring-green-500 text-green-600"}`,value:g,onChange:I=>y(parseInt(I.target.value))})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Technical Skills"}),e.jsx("input",{type:"text",className:"w-full border border-slate-200 p-3.5 rounded-xl focus:ring-2 focus:ring-slate-900 outline-none transition bg-white",value:N,onChange:I=>h(I.target.value),placeholder:"Python, Java, Forensic Tools..."}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold",children:"Comma separated items"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Certifications"}),e.jsx("input",{type:"text",className:"w-full border border-slate-200 p-3.5 rounded-xl focus:ring-2 focus:ring-slate-900 outline-none transition bg-white",value:b,onChange:I=>D(I.target.value),placeholder:"CEH, AWS, CISSP..."}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold",children:"Comma separated items"})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 text-white relative overflow-hidden",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2 relative z-10",children:[e.jsx(ue,{size:18})," Professional Resume"]}),e.jsxs("div",{className:"relative z-10",children:[t.resumeUrl?e.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-br from-green-900/30 to-green-800/20 rounded-2xl border border-green-500/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-full flex items-center justify-center",children:e.jsx(ue,{size:20,className:"text-green-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-green-400 uppercase tracking-wider",children:"Resume Uploaded"}),e.jsx("p",{className:"text-sm font-bold text-white mt-0.5",children:t.resumeFileName||"resume.pdf"})]})]}),e.jsxs("div",{className:"text-[10px] text-slate-400 font-medium",children:["Uploaded on ",t.resumeUploadedAt||"N/A"]}),e.jsx("div",{className:"mt-3 text-xs text-slate-400 italic",children:"Note: File stored securely. Download feature available in production."})]}):e.jsx("div",{className:"mb-8 p-6 bg-white/5 rounded-2xl border border-white/10 text-center text-slate-400",children:"No resume attached to profile yet."}),e.jsxs("div",{className:"relative border-2 border-dashed border-white/20 rounded-2xl p-8 text-center hover:bg-white/5 transition cursor-pointer group",children:[e.jsx("input",{type:"file",accept:".pdf",onChange:q,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(De,{size:24,className:"text-slate-400 group-hover:text-white transition group-hover:scale-110 duration-300"}),e.jsxs("span",{className:"font-bold text-sm text-slate-300",children:["Click to ",t.resumeUrl?"Update":"Upload"," PDF"]}),e.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:"Max size 2MB"})]}),U&&e.jsxs("div",{className:"mt-4 text-xs font-bold text-green-400 bg-green-400/10 py-1 px-3 rounded-full inline-block",children:["Selected: ",U.name]})]})]}),e.jsx("div",{className:"absolute -bottom-20 -right-20 w-64 h-64 bg-rose-600/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"pt-4",children:[P&&e.jsxs("div",{className:"text-green-600 text-sm font-bold mb-4 flex items-center gap-2 animate-in slide-in-from-left-2",children:[e.jsx(ge,{size:18})," ",P]}),C&&e.jsxs("div",{className:"text-rose-600 text-sm font-bold mb-4 flex items-center gap-2",children:[e.jsx(oe,{size:18})," ",C]}),e.jsx("button",{onClick:G,disabled:v,className:"w-full bg-slate-900 text-white py-5 rounded-2xl font-black text-lg shadow-2xl shadow-slate-200 hover:bg-slate-800 transition transform active:scale-[0.98] disabled:opacity-50",children:v?"Processing Update...":"Save Profile Changes"})]})]})]})]})]})},ae=({children:s,allowedRoles:t})=>{const l=d.getCurrentUser();return l?t.includes(l.role)?e.jsx(e.Fragment,{children:s}):e.jsx(we,{to:"/",replace:!0}):t.includes(B.ADMIN)?e.jsx(we,{to:"/admin-login",replace:!0}):t.includes(B.RECRUITER)?e.jsx(we,{to:"/recruiter-login",replace:!0}):e.jsx(we,{to:"/login",replace:!0})},pt=()=>e.jsx(Js,{children:e.jsx(qs,{children:e.jsxs(Y,{element:e.jsx(Ys,{}),children:[e.jsx(Y,{path:"/",element:e.jsx(Ws,{})}),e.jsx(Y,{path:"/login",element:e.jsx(Ks,{})}),e.jsx(Y,{path:"/admin-login",element:e.jsx(Qs,{})}),e.jsx(Y,{path:"/recruiter-login",element:e.jsx(st,{})}),e.jsx(Y,{path:"/register-company",element:e.jsx(Zs,{})}),e.jsx(Y,{path:"/signup",element:e.jsx(et,{})}),e.jsx(Y,{path:"/student/profile",element:e.jsx(ae,{allowedRoles:[B.STUDENT],children:e.jsx(ht,{})})}),e.jsx(Y,{path:"/student",element:e.jsx(ae,{allowedRoles:[B.STUDENT],children:e.jsx(lt,{})})}),e.jsx(Y,{path:"/recruiter/drives",element:e.jsx(ae,{allowedRoles:[B.RECRUITER],children:e.jsx(as,{})})}),e.jsx(Y,{path:"/recruiter",element:e.jsx(ae,{allowedRoles:[B.RECRUITER],children:e.jsx(as,{})})}),e.jsx(Y,{path:"/admin/students",element:e.jsx(ae,{allowedRoles:[B.ADMIN],children:e.jsx(ls,{})})}),e.jsx(Y,{path:"/admin/drives",element:e.jsx(ae,{allowedRoles:[B.ADMIN],children:e.jsx(ct,{})})}),e.jsx(Y,{path:"/admin/mail-bot",element:e.jsx(ae,{allowedRoles:[B.ADMIN],children:e.jsx(ut,{})})}),e.jsx(Y,{path:"/admin",element:e.jsx(ae,{allowedRoles:[B.ADMIN],children:e.jsx(ls,{})})})]})})}),ms=document.getElementById("root");if(!ms)throw new Error("Could not find root element to mount to");const bt=Hs.createRoot(ms);bt.render(e.jsx(Me.StrictMode,{children:e.jsx(pt,{})}));
